{"remainingRequest":"/Users/tk/GitHub/nokiatwin/node_modules/babel-loader/lib/index.js!/Users/tk/GitHub/nokiatwin/node_modules/eslint-loader/index.js??ref--13-0!/Users/tk/GitHub/nokiatwin/src/store/store.js","dependencies":[{"path":"/Users/tk/GitHub/nokiatwin/src/store/store.js","mtime":1602250548951},{"path":"/Users/tk/GitHub/nokiatwin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokiatwin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokiatwin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnN0YXJ0cy13aXRoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBWdWV4IGZyb20gJ3Z1ZXgnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgdW5pcWlkIGZyb20gJ3VuaXFpZCc7ClZ1ZS51c2UoVnVleCk7CmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgbGluZXM6IFtdLAogICAgLy9lbXB0eSBhcnJheSwgZmlsbGVkIGJ5IGFkZExpbmUoKSBhbmQgcmVtb3ZlTGluZSgpLCB0cmlnZ2VyZWQgdmlhIHNpZGViYXIudnVlCiAgICBtZXRyaWNzOiBbXSwKICAgIC8vbWV0cmljcyB0byBkaXNwbGF5IChtZXRyaWNfIGNvbHVtbnMgaW4gZGIpCiAgICBmaWx0ZXJDb2x1bW5zOiBbXSwKICAgIC8vZmlsdGVycyB0byBhcHBseSAoZmlsdGVyXyBjb2x1bW5zIGluIGRiKQogICAgY29sb3JzOiBbewogICAgICBoZXg6ICIjMjBDNUEwIiwKICAgICAgdXNlZDogZmFsc2UKICAgIH0sIHsKICAgICAgaGV4OiAiI0JEMTBFMCIsCiAgICAgIHVzZWQ6IGZhbHNlCiAgICB9LCB7CiAgICAgIGhleDogIiNGNUE2MjMiLAogICAgICB1c2VkOiBmYWxzZQogICAgfSwgewogICAgICBoZXg6ICIjNEE5MEUyIiwKICAgICAgdXNlZDogZmFsc2UKICAgIH0sIHsKICAgICAgaGV4OiAiI0FDQzAwMCIsCiAgICAgIHVzZWQ6IGZhbHNlCiAgICB9XSwKICAgIGFkZGVkRmlsdGVyczogW10sCiAgICAvL2luaXRpYWxpemUgYXJyYXkgZm9yIGZpbHRlcnMgdGhlIHVzZXIgYWRkZWQgdmlhIHR5cGVhaGVhZAogICAgZXZlbnRzOiBbXQogIH0sCiAgZ2V0dGVyczogewogICAgLy9nZXQgcmVkdWNlZCBsaXN0IG9mIHBvc3NpYmxlIHZhbHVlcyB0byBkaXNwbGF5CiAgICBnZXRGaWx0ZXJDb2x1bW5zOiBmdW5jdGlvbiBnZXRGaWx0ZXJDb2x1bW5zKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5maWx0ZXJDb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sKSB7CiAgICAgICAgdmFyIHZpc2libGUgPSBjb2wuZWxlbWVudHMuc2xpY2UoMCwgNSk7IC8vc2VsZWN0IGZpdmUgbW9zdCBmcmVxdWVudCBsYWJlbHMKICAgICAgICAvL2lkZW50aWZ5IGZpbHRlcnMgdGhhdCB3ZXJlIGFkZGVkIGZvciB0aGUgY3VycmVudCBjb2x1bW4KCiAgICAgICAgdmFyIGFkZGVkID0gc3RhdGUuYWRkZWRGaWx0ZXJzLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIHguZmlsdGVyLnRvTG93ZXJDYXNlKCkgPT0gY29sLmRpc3BsYXkudG9Mb3dlckNhc2UoKTsKICAgICAgICB9KTsgLy9zZWxlY3QgYWRkZWQgZmlsdGVycyB0aGF0IG1hdGNoIHRoZSBjb2x1bW4KCiAgICAgICAgdmlzaWJsZSA9IHZpc2libGUuY29uY2F0KGFkZGVkKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZGlzcGxheTogY29sLmRpc3BsYXksCiAgICAgICAgICBmaWx0ZXJzOiBjb2wuZGJfY29sdW1ucywKICAgICAgICAgIGVsZW1lbnRzOiB2aXNpYmxlLAogICAgICAgICAgYXV0b2NvbXBsZXRlOiBjb2wuZWxlbWVudHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgIHJldHVybiB4LmtleSAhPSBudWxsOwogICAgICAgICAgfSkKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICAvL2dldCBMaW5lcyAodHJpZ2dlcmVkIHZpYSBzaWRlYmFyIGFuZCApCiAgICBnZXRMaW5lczogZnVuY3Rpb24gZ2V0TGluZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxpbmVzOwogICAgfSwKICAgIGdldENvbnRleHQ6IGZ1bmN0aW9uIGdldENvbnRleHQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmNvbnRleHQ7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIC8vcmVtb3ZlIGxpbmUgZnJvbSBzaWRlYmFyCiAgICByZW1vdmVMaW5lOiBmdW5jdGlvbiByZW1vdmVMaW5lKHN0YXRlLCBpZGVudGlmaWVyKSB7CiAgICAgIC8vbWFrZSB1c2VkIGNvbG9yIGF2YWlsYWJsZSBhZ2FpbgogICAgICBWdWUuc2V0KHN0YXRlLmNvbG9ycy5maW5kKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHgudXNlZCA9PSBpZGVudGlmaWVyOwogICAgICB9KSwgJ3VzZWQnLCBmYWxzZSk7IC8vZGVsZXRlIGxpbmUgZnJvbSBzdGF0ZQoKICAgICAgaWYgKHN0YXRlLmxpbmVzLmxlbmd0aCA+IDEpIHN0YXRlLmxpbmVzLnNwbGljZShzdGF0ZS5saW5lcy5maW5kSW5kZXgoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5pZGVudGlmaWVyID09IGlkZW50aWZpZXI7CiAgICAgIH0pLCAxKTsKICAgIH0sCiAgICAvL3dyaXRlIHF1ZXJ5IHRvIGxpbmVzCiAgICB3cml0ZVF1ZXJ5OiBmdW5jdGlvbiB3cml0ZVF1ZXJ5KHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIC8vY29uc29sZS5sb2coIndyaXRlUXVlcnkoKSBjYWxsZWQiLCBwYXlsb2FkKQogICAgICBWdWUuc2V0KHN0YXRlLmxpbmVzW3BheWxvYWQuaW5kZXhdLnF1ZXJ5LCBwYXlsb2FkLmZpbHRlciwgcGF5bG9hZC5rZXkpOwogICAgfSwKICAgIC8vd3JpdGUgQSBQSSByZXR1cm4gdG8gbGluZXMgKGdvdHRlbiBmcm9tIGNhbGxBUEkoKSkKICAgIHdyaXRlVmFsdWVzOiBmdW5jdGlvbiB3cml0ZVZhbHVlcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICAvL2NvbnNvbGUubG9nKCJ3cml0ZURhdGEgY2FsbGVkIiwgcGF5bG9hZCkKICAgICAgVnVlLnNldChzdGF0ZS5saW5lc1twYXlsb2FkLmluZGV4XSwgInZhbHVlcyIsIHBheWxvYWQudmFsdWVzKTsKICAgIH0sCiAgICAvL2FkZCBmaWx0ZXIgdmlhIHR5cGVhaGVhZAogICAgYWRkRmlsdGVyOiBmdW5jdGlvbiBhZGRGaWx0ZXIoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgVnVlLnNldChzdGF0ZS5hZGRlZEZpbHRlcnMsIHN0YXRlLmFkZGVkRmlsdGVycy5sZW5ndGgsIHBheWxvYWQpOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy9pbml0aWFsaXplIGEgbmV3IGxpbmUgKGluY2wuIGZpbHRlcnMgaW4gc2lkZWJhciBhbmQgYWN0dWFsIGxpbmUgaW4gZ3JhcGgpLCB0cmlnZ2VyZWQgZnJvbSBzaWRlYmFyCiAgICBhZGRMaW5lOiBmdW5jdGlvbiBhZGRMaW5lKF9yZWYpIC8vcXVlcnkgLy9xdWVyeSBpcyBwcm92aWRlZCBhcyBwYXlsb2FkIGluIHNpZGViYXIudnVlCiAgICB7CiAgICAgIHZhciBzdGF0ZSA9IF9yZWYuc3RhdGUsCiAgICAgICAgICBkaXNwYXRjaCA9IF9yZWYuZGlzcGF0Y2g7CiAgICAgIHZhciBsaW5lID0ge307IC8vVE9ETzogaGFuZCBvdmVyIHByZXZpb3VzIHF1ZXJ5IHRvIG5ld2x5IGNyZWF0ZWQgbGluZQoKICAgICAgbGluZS5xdWVyeSA9IHt9OyAvL3VuaXF1ZSBpZGVudGlmaWVyIHRvIHVwZGF0ZSBxdWVyeSBvciBkZWxldGUgbGluZQoKICAgICAgbGluZS5pZGVudGlmaWVyID0gdW5pcWlkLnRpbWUoKTsgLy9hc3NpZ24gYW4gdW51c2VkIGNvbG9yIGFuZCBtYXJrIGl0IHVzZWQKCiAgICAgIHZhciBjb2xvckluZGV4ID0gc3RhdGUuY29sb3JzLmZpbmRJbmRleChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgIHJldHVybiAhZWxlbWVudC51c2VkOwogICAgICB9KTsKICAgICAgbGluZS5jb2xvciA9IHN0YXRlLmNvbG9yc1tjb2xvckluZGV4XS5oZXg7CiAgICAgIFZ1ZS5zZXQoc3RhdGUuY29sb3JzW2NvbG9ySW5kZXhdLCAndXNlZCcsIGxpbmUuaWRlbnRpZmllcik7CiAgICAgIFZ1ZS5zZXQoc3RhdGUubGluZXMsIHN0YXRlLmxpbmVzLmxlbmd0aCwgbGluZSk7IC8vcHVzaCBuZXcgbGluZSBhdCBlbmQgb2YgbGluZXMgYXJyYXkKCiAgICAgIGRpc3BhdGNoKCdnZXREYXRhJywgewogICAgICAgIGlkZW50aWZpZXI6IGZhbHNlLAogICAgICAgIGZpbHRlcjogIm1ldHJpYyIsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGtleTogc3RhdGUubWV0cmljc1swXS5rZXkKICAgICAgICB9IC8vVE9ETyByZXBsYWNlIHdpdGggZmlyc3QgbWV0cmljIChhcyBzb29uIGFzIGl0cyBpbml0aWFsaXplZCkKCiAgICAgIH0pOwogICAgfSwKICAgIC8vdXBkYXRlIHF1ZXJpZXMgYW5kIGdldCBkYXRhIGZvciB0aGVtCiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKF9yZWYyLCBwYXlsb2FkKSB7CiAgICAgIHZhciBkaXNwYXRjaCA9IF9yZWYyLmRpc3BhdGNoLAogICAgICAgICAgY29tbWl0ID0gX3JlZjIuY29tbWl0LAogICAgICAgICAgc3RhdGUgPSBfcmVmMi5zdGF0ZTsKCiAgICAgIC8vY29uc29sZS5sb2coImdldERhdGEoKSBjYWxsZWQiLCBwYXlsb2FkKQogICAgICBpZiAocGF5bG9hZC5pZGVudGlmaWVyKSB7CiAgICAgICAgLy9pZiBwYXlsb2FkIGp1c3QgYXBwbGllcyB0byBhIHNpbmdsZSBsaW5lCiAgICAgICAgY29tbWl0KCd3cml0ZVF1ZXJ5JywgewogICAgICAgICAgaW5kZXg6IHN0YXRlLmxpbmVzLmZpbmRJbmRleChmdW5jdGlvbiAoeCkgewogICAgICAgICAgICByZXR1cm4geC5pZGVudGlmaWVyID09IHBheWxvYWQuaWRlbnRpZmllcjsKICAgICAgICAgIH0pLAogICAgICAgICAgZmlsdGVyOiBwYXlsb2FkLnF1ZXJ5LmZpbHRlciwKICAgICAgICAgIGtleTogcGF5bG9hZC5xdWVyeS5rZXkKICAgICAgICB9KTsKICAgICAgICBkaXNwYXRjaCgnY2FsbEFQSScsIHBheWxvYWQuaWRlbnRpZmllcik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy9pZiBpdCBhZmZlY3RzIGFsbCBsaW5lcyAoZS5nLiB3aGVuIGEgbWV0cmljIGlzIGNoYW5nZWQpCiAgICAgICAgc3RhdGUubGluZXMuZm9yRWFjaChmdW5jdGlvbiAobGluZSwgaSkgewogICAgICAgICAgY29tbWl0KCd3cml0ZVF1ZXJ5JywgewogICAgICAgICAgICBpbmRleDogaSwKICAgICAgICAgICAgZmlsdGVyOiAnbWV0cmljJywKICAgICAgICAgICAga2V5OiBwYXlsb2FkLnF1ZXJ5LmtleQogICAgICAgICAgfSk7CiAgICAgICAgICBkaXNwYXRjaCgnY2FsbEFQSScsIGxpbmUuaWRlbnRpZmllcik7IC8vZGlzcGF0Y2goJ2RlYnVnQVBJJykKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vZ2V0IGRhdGEgZnJvbSBBUEkKICAgIGNhbGxBUEk6IGZ1bmN0aW9uIGNhbGxBUEkoX3JlZjMsIGlkZW50aWZpZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjMuc3RhdGU7CiAgICAgIC8vZ2V0IHF1ZXJ5IGZvciBsaW5lIGJhc2VkIG9uIGl0cyBpZGVudGlmaWVyCiAgICAgIHZhciBxdWVyeSA9IHN0YXRlLmxpbmVzLmZpbmQoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5pZGVudGlmaWVyID09IGlkZW50aWZpZXI7CiAgICAgIH0pLnF1ZXJ5OwogICAgICBxdWVyeS50eXBlID0gJ3Jlc3VsdCc7IC8vc2V0IHF1ZXJ5IGVuZCAocXVhc2kgZW5kcG9pbnQpIGZvciBhcGkucGhwCiAgICAgIC8vYXhpb3MucG9zdCggImh0dHBzOi8vc29jaWFsLWR5bmFtaWNzLm5ldC9ub2tpYXR3aW4vYXBpLnBocCIscXVlcnksCgogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjgwODAvbm9raWF0d2luL2FwaS5waHAiLCBxdWVyeSwgLy9mb3IgZGV2ZWxvcG1lbnQsIHRoaXMgaXMgb3ZlcndyaXR0ZW4gaW4gdnVlLmNvbmZpZy5qcwogICAgICB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgnd3JpdGVWYWx1ZXMnLCB7CiAgICAgICAgICBpbmRleDogc3RhdGUubGluZXMuZmluZEluZGV4KGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgIHJldHVybiB4LmlkZW50aWZpZXIgPT0gaWRlbnRpZmllcjsKICAgICAgICAgIH0pLAogICAgICAgICAgdmFsdWVzOiByZXNwb25zZS5kYXRhCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVidWdBUEk6IGZ1bmN0aW9uIGRlYnVnQVBJKCkgewogICAgICB2YXIgcXVlcnkgPSB7CiAgICAgICAgdHlwZTogJ2RlYnVnJywKICAgICAgICBtZXRyaWM6ICdtZXRyaWNfcmF0aW5nX292ZXJhbGwnLAogICAgICAgIGZpbHRlcl9jb21wYW55OiAnc3RhcmJ1Y2tzJywKICAgICAgICBmaWx0ZXJfY291bnRyeTogJ1VuaXRlZCBLaW5nZG9tJywKICAgICAgICBmaWx0ZXJfZW1wbG95ZWVfdGl0bGU6ICdCYXJpc3RhJwogICAgICB9OwogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjgwODAvbm9raWF0d2luL2FwaS5waHAiLCBxdWVyeSwgLy9mb3IgZGV2ZWxvcG1lbnQsIHRoaXMgaXMgb3ZlcndyaXR0ZW4gaW4gdnVlLmNvbmZpZy5qcwogICAgICB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEuc3BsaXQoImVuZF9vdXRwdXQiKVswXSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgLy9nZXQgTWV0cmljcyBhbmQgRmlsdGVycyBvbmNlIHRvIHdyaXRlIHRoZW0gdG8gc3RvcmFnZQogICAgZ2V0TWV0cmljc0FuZEZpbHRlcnM6IGZ1bmN0aW9uIGdldE1ldHJpY3NBbmRGaWx0ZXJzKF9yZWY0KSB7CiAgICAgIHZhciBkaXNwYXRjaCA9IF9yZWY0LmRpc3BhdGNoLAogICAgICAgICAgc3RhdGUgPSBfcmVmNC5zdGF0ZTsKICAgICAgdmFyIHF1ZXJ5ID0gewogICAgICAgIHR5cGU6ICdtZXRyaWNzJwogICAgICB9OyAvL2F4aW9zLnBvc3QoICJodHRwczovL3NvY2lhbC1keW5hbWljcy5uZXQvbm9raWF0d2luL2FwaS5waHAiLHF1ZXJ5LCAvL2ZvciBkZXZlbG9wbWVudCwgdGhpcyBpcyBvdmVyd3JpdHRlbiBpbiB2dWUuY29uZmlnLmpzCgogICAgICBheGlvcy5wb3N0KCJodHRwOi8vbG9jYWxob3N0OjgwODAvbm9raWF0d2luL2FwaS5waHAiLCBxdWVyeSwgLy9mb3IgZGV2ZWxvcG1lbnQsIHRoaXMgaXMgb3ZlcndyaXR0ZW4gaW4gdnVlLmNvbmZpZy5qcwogICAgICB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vZmlsdGVyIHJlc3BvbnNlIGJ5IG1ldHJpY18gYW5kIHdyaXRlIGl0IHRvIHN0b3JlCiAgICAgICAgdmFyIG1ldHJpY3MgPSByZXNwb25zZS5kYXRhLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIHgua2V5LnN0YXJ0c1dpdGgoJ21ldHJpY18nKTsKICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIC8vaWYgbm8gZGlzcGxheSBuYW1lIGdpdmVuLCB1c2UgZGIgY29sdW1uCiAgICAgICAgICBpZiAoIWl0ZW0uZGlzcGxheSkgaXRlbS5kaXNwbGF5ID0gaXRlbS5rZXk7CiAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICB9KTsKICAgICAgICBWdWUuc2V0KHN0YXRlLCAnbWV0cmljcycsIG1ldHJpY3MpOyAvL2ZpbHRlciBieSBmaWx0ZXJfIGFuZCBoYW5kIHRvIGdldEZpbHRlcnMoKSAod2hpY2ggY2FuIGdldCB2YWx1ZXMgZm9yIGVhY2ggZmlsdGVyKQoKICAgICAgICBkaXNwYXRjaCgnZ2V0RmlsdGVycycsIHJlc3BvbnNlLmRhdGEuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICByZXR1cm4geC5rZXkuc3RhcnRzV2l0aCgnZmlsdGVyXycpOwogICAgICAgIH0pKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRFdmVudHM6IGZ1bmN0aW9uIGdldEV2ZW50cyhfcmVmNSkgewogICAgICB2YXIgc3RhdGUgPSBfcmVmNS5zdGF0ZTsKICAgICAgdmFyIHF1ZXJ5ID0gewogICAgICAgIHR5cGU6ICdldmVudHMnCiAgICAgIH07IC8vYXhpb3MucG9zdCggImh0dHBzOi8vc29jaWFsLWR5bmFtaWNzLm5ldC9ub2tpYXR3aW4vYXBpLnBocCIscXVlcnksIC8vZm9yIGRldmVsb3BtZW50LCB0aGlzIGlzIG92ZXJ3cml0dGVuIGluIHZ1ZS5jb25maWcuanMKCiAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9ub2tpYXR3aW4vYXBpLnBocCIsIHF1ZXJ5LCAvL2ZvciBkZXZlbG9wbWVudCwgdGhpcyBpcyBvdmVyd3JpdHRlbiBpbiB2dWUuY29uZmlnLmpzCiAgICAgIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgVnVlLnNldChzdGF0ZSwgJ2V2ZW50cycsIHJlc3BvbnNlLmRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEZpbHRlcnM6IGZ1bmN0aW9uIGdldEZpbHRlcnMoX3JlZjYsIHBheWxvYWQpIHsKICAgICAgdmFyIHN0YXRlID0gX3JlZjYuc3RhdGU7CiAgICAgIC8vdHJhbnNmb3JtIGZpbHRlcnMgd2l0aCB0aGUgc2FtZSBuYW1lIGludG8gYSBncm91cCB3aXRoIG11bHRpcGxlIGRiX2NvbHVtbnMKICAgICAgdmFyIGZpbHRlcnMgPSBbXTsKICAgICAgcGF5bG9hZC5mb3JFYWNoKGZ1bmN0aW9uIChmaWx0ZXIpIHsKICAgICAgICB2YXIgZXhpc3RzID0gZmlsdGVycy5maW5kKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICByZXR1cm4geC5kaXNwbGF5ID09IGZpbHRlci5kaXNwbGF5OwogICAgICAgIH0pOwoKICAgICAgICBpZiAoZXhpc3RzKSB7CiAgICAgICAgICBleGlzdHMuZGJfY29sdW1ucy5wdXNoKGZpbHRlci5rZXkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmaWx0ZXJzLnB1c2goewogICAgICAgICAgICBkaXNwbGF5OiBmaWx0ZXIuZGlzcGxheSwKICAgICAgICAgICAgZGJfY29sdW1uczogW2ZpbHRlci5rZXldCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOyAvL2dlbmVyYXRlIGxpc3RzIG9mIGNvbHVtbnMsIHRoZW4gZmlsbCB0aGVtIHdpdGggZmlsdGVycwoKICAgICAgZmlsdGVycyA9IGZpbHRlcnMubWFwKGZ1bmN0aW9uIChmaWx0ZXIpIHsKICAgICAgICBmaWx0ZXIuZWxlbWVudHMgPSBbXTsgLy9idWNrZXQgdG8gZmlsbAoKICAgICAgICBmaWx0ZXIuZGJfY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2x1bW4pIHsKICAgICAgICAgIHZhciBxdWVyeSA9IHsKICAgICAgICAgICAgdHlwZTogJ3NlbGVjdG9ycycsCiAgICAgICAgICAgIGxpc3RTZWxlY3RvcjogY29sdW1uCiAgICAgICAgICB9OyAvL2F4aW9zLnBvc3QoICJodHRwczovL3NvY2lhbC1keW5hbWljcy5uZXQvbm9raWF0d2luL2FwaS5waHAiLHF1ZXJ5LAoKICAgICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9ub2tpYXR3aW4vYXBpLnBocCIsIHF1ZXJ5LCAvL2ZvciBkZXZlbG9wbWVudCwgdGhpcyBpcyBvdmVyd3JpdHRlbiBpbiB2dWUuY29uZmlnLmpzCiAgICAgICAgICB7CiAgICAgICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcKICAgICAgICAgICAgfQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7CiAgICAgICAgICAgICAgLy9mb3IgZWFjaCBpdGVtIGluIHRoZSBsaXN0LCBjcmVhdGUgYSB1bmlxdWUgb2JqZWN0IHRvIHBhc3Mgb24KICAgICAgICAgICAgICB2YXIgaXRlbSA9IHsKICAgICAgICAgICAgICAgIGtleTogZWxlbWVudFtjb2x1bW5dLAogICAgICAgICAgICAgICAgZmlsdGVyOiBjb2x1bW4sCiAgICAgICAgICAgICAgICBjb3VudDogZWxlbWVudC5jb3VudAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgZmlsdGVyLmVsZW1lbnRzLnB1c2goaXRlbSk7IC8vZmlsbCB0aGUgYnVja2V0CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBmaWx0ZXIuZWxlbWVudHMuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICAgIHJldHVybiBiLmNvdW50IC0gYS5jb3VudDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmlsdGVyOwogICAgICB9KTsKICAgICAgVnVlLnNldChzdGF0ZSwgJ2ZpbHRlckNvbHVtbnMnLCBmaWx0ZXJzKTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/Users/tk/GitHub/nokiatwin/src/store/store.js"],"names":["Vue","Vuex","axios","uniqid","use","Store","state","lines","metrics","filterColumns","colors","hex","used","addedFilters","events","getters","getFilterColumns","map","col","visible","elements","slice","added","filter","x","toLowerCase","display","concat","filters","db_columns","autocomplete","key","getLines","getContext","context","mutations","removeLine","identifier","set","find","length","splice","findIndex","writeQuery","payload","index","query","writeValues","values","addFilter","actions","addLine","dispatch","line","time","colorIndex","element","color","getData","commit","forEach","i","callAPI","type","post","headers","then","response","data","catch","error","console","log","debugAPI","metric","filter_company","filter_country","filter_employee_title","split","getMetricsAndFilters","startsWith","item","getEvents","getFilters","exists","push","column","listSelector","count","sort","a","b"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\nimport uniqid from 'uniqid';\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    lines: [], //empty array, filled by addLine() and removeLine(), triggered via sidebar.vue\n    metrics:[], //metrics to display (metric_ columns in db)\n    filterColumns: [], //filters to apply (filter_ columns in db)\n    colors: [\n      {hex: \"#20C5A0\", used: false},\n      {hex: \"#BD10E0\", used: false},\n      {hex: \"#F5A623\", used: false},\n      {hex: \"#4A90E2\", used: false},\n      {hex: \"#ACC000\", used: false}\n    ],\n    addedFilters: [], //initialize array for filters the user added via typeahead\n    events: []\n  },\n\n\n\n  getters: {\n    //get reduced list of possible values to display\n    getFilterColumns: state => {\n      return state.filterColumns.map(col => {\n        let visible = col.elements.slice(0,5) //select five most frequent labels\n        //identify filters that were added for the current column\n        let added = state.addedFilters.filter(x=>x.filter.toLowerCase() == col.display.toLowerCase()) //select added filters that match the column\n        visible = visible.concat(added)\n\n\n\n\n        return {\n          display: col.display,\n          filters: col.db_columns,\n          elements: visible,\n          autocomplete: col.elements.filter(x=>x.key != null)\n        }\n      })\n    },\n\n    //get Lines (triggered via sidebar and )\n    getLines: (state) => state.lines,\n    getContext: (state) => state.context\n  },\n\n\n  mutations: {\n      //remove line from sidebar\n    removeLine(state, identifier) {\n      //make used color available again\n      Vue.set(state.colors.find(x=>x.used == identifier),'used',false)\n      //delete line from state\n      if(state.lines.length > 1) state.lines.splice(state.lines.findIndex(x=>x.identifier == identifier),1)\n    },\n\n    //write query to lines\n    writeQuery(state, payload) {\n      //console.log(\"writeQuery() called\", payload)\n      Vue.set(state.lines[payload.index].query, payload.filter, payload.key)\n    },\n\n    //write A PI return to lines (gotten from callAPI())\n    writeValues(state, payload) {\n      //console.log(\"writeData called\", payload)\n      Vue.set(state.lines[payload.index], \"values\", payload.values)\n    },\n\n    //add filter via typeahead\n    addFilter(state, payload) {\n      Vue.set(state.addedFilters,state.addedFilters.length,payload)\n    },\n  },\n\n\n\n  actions: {\n    //initialize a new line (incl. filters in sidebar and actual line in graph), triggered from sidebar\n    addLine(\n      {state, dispatch},\n      //query //query is provided as payload in sidebar.vue\n    ) {\n      let line = {}\n\n      //TODO: hand over previous query to newly created line\n      line.query = {}\n\n      //unique identifier to update query or delete line\n      line.identifier = uniqid.time()\n\n      //assign an unused color and mark it used\n      let colorIndex = state.colors.findIndex(element  => !element.used)\n      line.color = state.colors[colorIndex].hex\n      Vue.set(state.colors[colorIndex],'used',line.identifier)\n      Vue.set(state.lines, state.lines.length, line) //push new line at end of lines array\n\n      dispatch('getData', {\n        identifier: false,\n        filter: \"metric\",\n        query: {key: state.metrics[0].key} //TODO replace with first metric (as soon as its initialized)\n      })\n    },\n\n\n    //update queries and get data for them\n    getData({dispatch, commit, state}, payload) {\n      //console.log(\"getData() called\", payload)\n\n      if(payload.identifier) { //if payload just applies to a single line\n        commit('writeQuery',{\n          index: state.lines.findIndex(x=>x.identifier == payload.identifier),\n          filter: payload.query.filter,\n          key: payload.query.key\n        })\n        dispatch('callAPI',payload.identifier)\n      } else { //if it affects all lines (e.g. when a metric is changed)\n        state.lines.forEach((line, i) => {\n          commit('writeQuery',{\n            index: i,\n            filter: 'metric',\n            key: payload.query.key\n          })\n          dispatch('callAPI',line.identifier)\n          //dispatch('debugAPI')\n        })\n      }\n    },\n\n    //get data from API\n    callAPI( {commit,state}, identifier) {\n      //get query for line based on its identifier\n      let query = state.lines.find(x=>x.identifier == identifier).query\n      query.type = 'result' //set query end (quasi endpoint) for api.php\n\n      //axios.post( \"https://social-dynamics.net/nokiatwin/api.php\",query,\n      axios.post( \"http://localhost:8080/nokiatwin/api.php\",query, //for development, this is overwritten in vue.config.js\n        {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n      })\n      .then(response => {\n        commit('writeValues',{\n          index: state.lines.findIndex(x=>x.identifier == identifier),\n          values: response.data\n        })\n      })\n      .catch(error => {\n        console.log(error)\n      });\n    },\n\n    debugAPI() {\n      let query = {\n        type: 'debug',\n        metric: 'metric_rating_overall',\n        filter_company: 'starbucks',\n        filter_country: 'United Kingdom',\n        filter_employee_title: 'Barista'\n      }\n      axios.post( \"http://localhost:8080/nokiatwin/api.php\",query, //for development, this is overwritten in vue.config.js\n        {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n      })\n      .then(response => {\n        console.log(response.data.split(\"end_output\")[0])\n      })\n      .catch(error => {\n        console.log(error)\n      });\n    },\n\n\n    //get Metrics and Filters once to write them to storage\n    getMetricsAndFilters({dispatch, state}) {\n      let query = {type: 'metrics'}\n      //axios.post( \"https://social-dynamics.net/nokiatwin/api.php\",query, //for development, this is overwritten in vue.config.js\n      axios.post( \"http://localhost:8080/nokiatwin/api.php\",query, //for development, this is overwritten in vue.config.js\n        {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n      })\n      .then(response => {\n        //filter response by metric_ and write it to store\n        let metrics = response.data.filter(x=>x.key.startsWith('metric_')).map(item => {\n          //if no display name given, use db column\n          if(!item.display) item.display = item.key\n          return item\n        })\n        Vue.set(state,'metrics',metrics)\n\n\n        //filter by filter_ and hand to getFilters() (which can get values for each filter)\n        dispatch('getFilters', response.data.filter(x=>x.key.startsWith('filter_')))\n      })\n      .catch(error => {\n        console.log(error)\n      });\n    },\n\n    getEvents({state}) {\n      let query = {type: 'events'}\n      //axios.post( \"https://social-dynamics.net/nokiatwin/api.php\",query, //for development, this is overwritten in vue.config.js\n      axios.post( \"http://localhost:8080/nokiatwin/api.php\",query, //for development, this is overwritten in vue.config.js\n        {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n      })\n      .then(response => {\n        Vue.set(state,'events',response.data)\n      })\n      .catch(error => {\n        console.log(error)\n      });\n    },\n\n    getFilters({state}, payload) {\n      //transform filters with the same name into a group with multiple db_columns\n      let filters = []\n      payload.forEach(filter => {\n        let exists = filters.find(x=>x.display == filter.display)\n        if(exists) {\n          exists.db_columns.push(filter.key)\n        } else {\n          filters.push({display: filter.display, db_columns: [filter.key]})\n        }\n      })\n\n      //generate lists of columns, then fill them with filters\n      filters = filters.map(filter => {\n        filter.elements = [] //bucket to fill\n        filter.db_columns.forEach(column => {\n          let query = {\n            type: 'selectors',\n            listSelector: column\n          }\n          //axios.post( \"https://social-dynamics.net/nokiatwin/api.php\",query,\n          axios.post( \"http://localhost:8080/nokiatwin/api.php\",query,  //for development, this is overwritten in vue.config.js\n            {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n          })\n          .then(response => {\n            response.data.forEach(element => { //for each item in the list, create a unique object to pass on\n              let item = {\n                key: element[column],\n                filter: column,\n                count: element.count\n              }\n              filter.elements.push(item) //fill the bucket\n            })\n            filter.elements.sort((a,b) => b.count - a.count)\n          })\n        })\n        return filter\n      })\n      Vue.set(state,'filterColumns',filters)\n    }\n  }\n})\n"]}]}