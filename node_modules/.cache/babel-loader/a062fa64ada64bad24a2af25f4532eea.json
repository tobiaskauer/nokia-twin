{"remainingRequest":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/babel-loader/lib/index.js!/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tk/GitHub/nokia-twin/twin-dashboard/src/components/filterRow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/src/components/filterRow.vue","mtime":1595334211997},{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbGxhcHNlZDogZmFsc2UsCiAgICAgIHJlZnJlc2hDb3VudDogMAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmaWx0ZXJDb2x1bW5zOiB7CiAgICAgIGNhY2hlOiB0cnVlLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRGaWx0ZXJDb2x1bW5zOyAvL2dldCB+NSt4IGVsZW1lbnRzIGZyb20gc3RvcmUKICAgICAgfQogICAgfSwKICAgIHNlbGVjdGVkOiB7CiAgICAgIGNhY2hlOiB0cnVlLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJDb2x1bW5zLm1hcChmdW5jdGlvbiAoY29sKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBuYW1lOiBjb2wubmFtZQogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgICAvKnJldHVybiB0aGlzLmZpbHRlckNvbHVtbnMgLy9hcnJheSBvZiBzZWxlY3RlZCBpdGVtcyB0byBkaXNwbGF5IGluIGNvbGxhcHNlZCB2aWV3CiAgICAgICAgICAuZmlsdGVyKGNvbCA9PiBjb2wuc2VsZWN0ZWQpCiAgICAgICAgICAubWFwKGNvbCA9PiBjb2wuc2VsZWN0ZWQpKi8KICAgICAgfQogICAgfSwKICAgIGNvbGxhcHNlZEl0ZW1zOiB7CiAgICAgIC8vY29tcHV0ZSBsaXN0IHRvIHNob3cgaW4gY29sbGFzcGVkIGZpbHRlclJvdyB2aWV3IChvciB0byBkaXNwbGF5IG1lc3NhZ2Ugd2hlbiBub3RoaW5nIGlzIHNlbGVjdGVkKQogICAgICBjYWNoZTogZmFsc2UsCiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkLmZpbHRlcihmdW5jdGlvbiAoY29sKSB7CiAgICAgICAgICByZXR1cm4gY29sLnNlbGVjdGVkOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZWxlY3Q6IGZ1bmN0aW9uIHNlbGVjdChjb2wsIGl0ZW0pIHsKICAgICAgLy9UT0RPOiBDbGVhciBmdWNrZXJ5IHRoYXQgaGFwcGVucyB3aGVuIG11bHRpcGxlIGxpbmVzIGFyZSBwcmVzZW50CiAgICAgIHZhciBjdXJyZW50Q29sID0gdGhpcy5zZWxlY3RlZC5maW5kKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHgubmFtZSA9PSBjb2w7CiAgICAgIH0pOwoKICAgICAgaWYgKGN1cnJlbnRDb2wuc2VsZWN0ZWQgPT0gaXRlbS5rZXkpIHsKICAgICAgICAvL2lmIGFscmVhZHkgc2VsZWN0ZWQKICAgICAgICB0aGlzLiRzZXQoY3VycmVudENvbCwgJ3NlbGVjdGVkJywgIiIpOyAvL2Rlc2VsZWN0ZWQgaW4gdmlldwoKICAgICAgICB0aGlzLiRlbWl0KCdjbGlja2VkJywgewogICAgICAgICAgaWRlbnRpZmllcjogdGhpcy5saW5lLmlkZW50aWZpZXIsCiAgICAgICAgICBjb2w6IGNvbCwKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIGZpbHRlcjogaXRlbS5maWx0ZXIsCiAgICAgICAgICAgIGtleTogdW5kZWZpbmVkCiAgICAgICAgICB9CiAgICAgICAgfSk7IC8vcmVtb3ZlIGZpbHRlciBmcm9tIHF1ZXJ5CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kc2V0KGN1cnJlbnRDb2wsICdzZWxlY3RlZCcsIGl0ZW0ua2V5KTsKICAgICAgICB0aGlzLiRlbWl0KCdjbGlja2VkJywgewogICAgICAgICAgaWRlbnRpZmllcjogdGhpcy5saW5lLmlkZW50aWZpZXIsCiAgICAgICAgICBjb2w6IGNvbCwKICAgICAgICAgIHF1ZXJ5OiBpdGVtCiAgICAgICAgfSk7IC8vdGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVRdWVyeScsIHtsaW5lOiB0aGlzLmxpbmUuaWRlbnRpZmllciwgcXVlcnk6IGl0ZW19KQogICAgICB9IC8vY29uc29sZS5sb2coY29sLGl0ZW0sY3VycmVudENvbCkKCgogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgfSwKICAgIGNvbGxhcHNlOiBmdW5jdGlvbiBjb2xsYXBzZShfY29sbGFwc2UpIHsKICAgICAgdGhpcy5jb2xsYXBzZWQgPSBfY29sbGFwc2U7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgcHJvcHM6IHsKICAgIC8vZmlsdGVyQ29sdW1uczogQXJyYXksCiAgICBsaW5lOiBPYmplY3QKICB9Cn07"},{"version":3,"sources":["filterRow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA,eAAA;AACA,EAAA,UAAA,EAAA,EADA;AAKA,EAAA,IALA,kBAKA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAEA,MAAA,YAAA,EAAA;AAFA,KAAA;AAIA,GAVA;AAYA,EAAA,QAAA,EAAA;AACA,IAAA,aAAA,EAAA;AACA,MAAA,KAAA,EAAA,IADA;AAEA,MAAA,GAAA,EAAA,eAAA;AACA,eAAA,KAAA,MAAA,CAAA,OAAA,CAAA,gBAAA,CADA,CACA;AACA;AAJA,KADA;AAQA,IAAA,QAAA,EAAA;AACA,MAAA,KAAA,EAAA,IADA;AAEA,MAAA,GAAA,EAAA,eAAA;AACA,eAAA,KAAA,aAAA,CAAA,GAAA,CAAA,UAAA,GAAA,EAAA;AACA,iBAAA;AAAA,YAAA,IAAA,EAAA,GAAA,CAAA;AAAA,WAAA;AACA,SAFA,CAAA;AAGA;;;AAGA;AATA,KARA;AAoBA,IAAA,cAAA,EAAA;AAAA;AACA,MAAA,KAAA,EAAA,KADA;AAEA,MAAA,GAAA,EAAA,eAAA;AACA,eAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,GAAA;AAAA,iBAAA,GAAA,CAAA,QAAA;AAAA,SAAA,CAAA;AACA;AAJA;AApBA,GAZA;AAwCA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,gBAAA,GAAA,EAAA,IAAA,EAAA;AACA;AAEA,UAAA,UAAA,GAAA,KAAA,QAAA,CAAA,IAAA,CAAA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,IAAA,IAAA,GAAA;AAAA,OAAA,CAAA;;AAEA,UAAA,UAAA,CAAA,QAAA,IAAA,IAAA,CAAA,GAAA,EAAA;AAAA;AACA,aAAA,IAAA,CAAA,UAAA,EAAA,UAAA,EAAA,EAAA,EADA,CACA;;AACA,aAAA,KAAA,CAAA,SAAA,EAAA;AAAA,UAAA,UAAA,EAAA,KAAA,IAAA,CAAA,UAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,KAAA,EAAA;AAAA,YAAA,MAAA,EAAA,IAAA,CAAA,MAAA;AAAA,YAAA,GAAA,EAAA;AAAA;AAAA,SAAA,EAFA,CAEA;AAEA,OAJA,MAIA;AAEA,aAAA,IAAA,CAAA,UAAA,EAAA,UAAA,EAAA,IAAA,CAAA,GAAA;AACA,aAAA,KAAA,CAAA,SAAA,EAAA;AAAA,UAAA,UAAA,EAAA,KAAA,IAAA,CAAA,UAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,KAAA,EAAA;AAAA,SAAA,EAHA,CAIA;AACA,OAdA,CAeA;;;AACA,WAAA,YAAA;AACA,KAlBA;AAsBA,IAAA,QAAA,EAAA,kBAAA,SAAA,EAAA;AACA,WAAA,SAAA,GAAA,SAAA;AACA;AAxBA,GAxCA;AAmEA,EAAA,OAnEA,qBAmEA,CACA,CApEA;AAsEA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,IAAA,EAAA;AAFA;AAtEA,CAAA","sourcesContent":["<template>\n<li class=\"filterRow\" :style=\"'border-color: ' +this.line.color\" :key=\"refreshCount\">\n  <ul class=\"controls\">\n    <li :class=\"{rotate: !collapsed}\"><!-- toggle collapse -->\n      <a v-on:click=\"collapse(!collapsed)\"><svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-down-circle-fill\" :fill=\"this.line.color\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 5a.5.5 0 0 0-1 0v4.793L5.354 7.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 9.793V5z\"/>\n      </svg></a>\n    </li>\n    <!--<li class=\"delete\">\n      <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-x-circle-fill\" :fill=\"this.line.color\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.146-3.146a.5.5 0 0 0-.708-.708L8 7.293 4.854 4.146a.5.5 0 1 0-.708.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .708.708L8 8.707l3.146 3.147a.5.5 0 0 0 .708-.708L8.707 8l3.147-3.146z\"/>\n      </svg>\n    </li>-->\n  </ul>\n\n  <div class=\"collapsed\" :class=\"{hidden: !collapsed}\">\n    <div v-if=\"collapsedItems.length > 0\">\n      <ul class=\"items\">\n        <li v-for=\"(item, index) in collapsedItems\" :key=\"'selected-'+index\">\n          <div v-if=\"item.selected\" :style=\"{'font-color': 'bold', 'background': line.color}\">{{item.selected}}</div>\n        </li>\n      </ul>\n    </div>\n    <div v-else>\n      No filters selected\n    </div>\n  </div>\n\n\n\n  <div class=\"expanded\" :class=\"{hidden: collapsed}\" v-for=\"(col, index) in filterColumns\" :key=\"'list-'+index\">\n    <strong>{{col.name}}</strong>\n      <ul class=\"items\">\n        <li v-for=\"element in col.elements\" :key=\"element.key\">\n          <div v-bind:style=\"[selected.find(x=>x.name == col.name).selected == element.key ? {'font-weight': 'bold', 'background': line.color} : {'background': 'none'}]\" v-on:click=\"select(col.name, element)\">\n            {{element.key}}\n            <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" v-if=\"selected.find(x=>x.name == col.name).selected == element.key\">\n              <path transform=\"scale(.04)\" fill=\"white\" d=\"M247.244,169.59l83.938-83.938c5.332-5.327,7.994-11.798,7.994-19.414c0-7.614-2.669-14.084-7.994-19.414L292.355,7.993\n\t\tC287.026,2.665,280.556,0,272.944,0c-7.617,0-14.085,2.665-19.417,7.993L169.59,91.931L85.651,7.993\n\t\tC80.325,2.665,73.854,0,66.237,0c-7.611,0-14.083,2.665-19.414,7.993L7.994,46.824C2.667,52.15,0,58.624,0,66.238\n\t\tc0,7.616,2.664,14.084,7.994,19.414l83.937,83.938L7.994,253.528C2.667,258.859,0,265.327,0,272.945\n\t\tc0,7.61,2.664,14.082,7.994,19.41l38.83,38.828c5.33,5.332,11.803,7.994,19.414,7.994c7.616,0,14.084-2.669,19.414-7.994\n\t\tl83.939-83.938l83.944,83.938c5.328,5.332,11.793,7.994,19.417,7.994c7.611,0,14.082-2.669,19.411-7.994l38.82-38.828\n\t\tc5.332-5.324,7.994-11.8,7.994-19.41c0-7.618-2.662-14.086-7.994-19.417L247.244,169.59z\"\n\t\t/></svg>\n  </div>\n        </li>\n      </ul>\n    </div>\n\n\n\n\n</li>\n</template>\n\n<script>\n\nexport default {\n  components: {\n\n  },\n\n  data() {\n    return {\n      collapsed: false,\n      refreshCount: 0\n    }\n  },\n\n  computed: {\n    filterColumns: {\n      cache: true,\n      get: function() {\n        return this.$store.getters.getFilterColumns //get ~5+x elements from store\n      }\n    },\n\n    selected: {\n      cache: true,\n      get: function() {\n        return this.filterColumns.map(col => {\n          return {name: col.name}\n        })\n        /*return this.filterColumns //array of selected items to display in collapsed view\n          .filter(col => col.selected)\n          .map(col => col.selected)*/\n      }\n    },\n\n    collapsedItems: { //compute list to show in collasped filterRow view (or to display message when nothing is selected)\n      cache: false,\n      get: function() {\n        return this.selected.filter(col => col.selected)\n      }\n    }\n    },\n\n  methods: {\n    select: function(col,item) {\n      //TODO: Clear fuckery that happens when multiple lines are present\n\n      let currentCol = this.selected.find(x=>x.name == col)\n\n      if(currentCol.selected == item.key) { //if already selected\n        this.$set(currentCol, 'selected', \"\") //deselected in view\n        this.$emit('clicked', {identifier: this.line.identifier, col: col, query: {filter: item.filter, key: undefined}}) //remove filter from query\n\n      } else {\n\n        this.$set(currentCol, 'selected', item.key)\n        this.$emit('clicked', {identifier: this.line.identifier, col: col, query: item})\n        //this.$store.commit('updateQuery', {line: this.line.identifier, query: item})\n      }\n      //console.log(col,item,currentCol)\n      this.$forceUpdate()\n    },\n\n\n\n    collapse: function(collapse) {\n      this.collapsed = collapse\n    }\n  },\n\n  mounted() {\n  },\n\n  props: {\n    //filterColumns: Array,\n    line: Object\n  }\n}\n</script>\n\n<style scoped>\nli.filterRow {\n  margin: 20px 30px;;\n  padding: 10px;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: 1px;\n  border-left-width: 15px;\n  list-style: none;\n  position: relative;\n}\n\nul.items {\n  font-size: 12px;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n\nul.items div {\n  padding: 4px 4px;\n  border-radius: 4px;\n}\n\nul.items div:hover {\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.expanded {\n  margin: 0 30px 15px 0;\n  display: inline-block;\n}\n\n.collapsed {\n  width: 90%;\n}\n\n.collapsed li {\n  display: inline-block;\n  margin: 5px 5px 5px 0;\n  font-weight: bold;\n}\n\nul.controls {\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  right: 10px;\n  top: 5px;\n}\n\n\nul.controls li {\n  list-style: none;\n  display: inline-block;\n  margin-left: 5px;\n  line-height: 0em;\n  background: white;\n  border-radius: 50%;\n\n}\nul.controls li span:hover {\ncursor: pointer;\n}\n\nul.controls li.rotate {\n  transform: rotate(180deg);\n}\n\n.hidden {\n  display: none !important;\n}\n\n\n\n</style>\n"],"sourceRoot":"src/components"}]}