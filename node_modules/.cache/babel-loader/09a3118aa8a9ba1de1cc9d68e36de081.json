{"remainingRequest":"/Users/tk/GitHub/nokiatwin/node_modules/babel-loader/lib/index.js!/Users/tk/GitHub/nokiatwin/node_modules/eslint-loader/index.js??ref--13-0!/Users/tk/GitHub/nokiatwin/src/store/store.js","dependencies":[{"path":"/Users/tk/GitHub/nokiatwin/src/store/store.js","mtime":1605265692922},{"path":"/Users/tk/GitHub/nokiatwin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokiatwin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokiatwin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3RhcnRzLXdpdGgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB1bmlxaWQgZnJvbSAndW5pcWlkJzsKVnVlLnVzZShWdWV4KTsKdmFyIHNlcnZlciA9ICJodHRwOi8vbG9jYWxob3N0OjgwODAvbm9raWF0d2luL2FwaS5waHAiOyAvL2RldmVsb3BtZW50Ci8vbGV0IHNlcnZlciA9ICJodHRwczovL3NvY2lhbC1keW5hbWljcy5uZXQvbm9raWF0d2luL2FwaS5waHAiIC8vIHByb2R1Y3Rpb24KCmV4cG9ydCBkZWZhdWx0IG5ldyBWdWV4LlN0b3JlKHsKICBzdGF0ZTogewogICAgZXJyb3I6ICIiLAogICAgdGFibGU6ICIiLAogICAgbGluZXM6IFtdLAogICAgLy9lbXB0eSBhcnJheSwgZmlsbGVkIGJ5IGFkZExpbmUoKSBhbmQgcmVtb3ZlTGluZSgpLCB0cmlnZ2VyZWQgdmlhIHNpZGViYXIudnVlCiAgICBtZXRyaWNzOiBbXSwKICAgIC8vbWV0cmljcyB0byBkaXNwbGF5IChtZXRyaWNfIGNvbHVtbnMgaW4gZGIpCiAgICBhY3RpdmVNZXRyaWM6ICIiLAogICAgZmlsdGVyQ29sdW1uczogW10sCiAgICAvL2ZpbHRlcnMgdG8gYXBwbHkgKGZpbHRlcl8gY29sdW1ucyBpbiBkYikKICAgIGNvbG9yczogW3sKICAgICAgaGV4OiAiIzIwQzVBMCIsCiAgICAgIHVzZWQ6IGZhbHNlCiAgICB9LCB7CiAgICAgIGhleDogIiNCRDEwRTAiLAogICAgICB1c2VkOiBmYWxzZQogICAgfSwgewogICAgICBoZXg6ICIjRjVBNjIzIiwKICAgICAgdXNlZDogZmFsc2UKICAgIH0sIHsKICAgICAgaGV4OiAiIzRBOTBFMiIsCiAgICAgIHVzZWQ6IGZhbHNlCiAgICB9LCB7CiAgICAgIGhleDogIiNBQ0MwMDAiLAogICAgICB1c2VkOiBmYWxzZQogICAgfV0sCiAgICBhZGRlZEZpbHRlcnM6IFtdLAogICAgLy9pbml0aWFsaXplIGFycmF5IGZvciBmaWx0ZXJzIHRoZSB1c2VyIGFkZGVkIHZpYSB0eXBlYWhlYWQKICAgIGV2ZW50czogW10KICB9LAogIGdldHRlcnM6IHsKICAgIC8vZ2V0IHJlZHVjZWQgbGlzdCBvZiBwb3NzaWJsZSB2YWx1ZXMgdG8gZGlzcGxheQogICAgZ2V0RmlsdGVyQ29sdW1uczogZnVuY3Rpb24gZ2V0RmlsdGVyQ29sdW1ucyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuZmlsdGVyQ29sdW1ucy5tYXAoZnVuY3Rpb24gKGNvbCkgewogICAgICAgIHZhciB2aXNpYmxlID0gY29sLmVsZW1lbnRzLnNsaWNlKDAsIDUpOyAvL3NlbGVjdCBmaXZlIG1vc3QgZnJlcXVlbnQgbGFiZWxzCiAgICAgICAgLy9pZGVudGlmeSBmaWx0ZXJzIHRoYXQgd2VyZSBhZGRlZCBmb3IgdGhlIGN1cnJlbnQgY29sdW1uCgogICAgICAgIHZhciBhZGRlZCA9IHN0YXRlLmFkZGVkRmlsdGVycy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiBjb2wuZGJfY29sdW1ucy5pbmNsdWRlcyh4LmZpbHRlcik7CiAgICAgICAgfSk7IC8vc2VsZWN0IGFkZGVkIGZpbHRlcnMgdGhhdCBtYXRjaCBhbnkgb2YgdGhlIGdpdmVuIGRiIGNvbHVtbnMKCiAgICAgICAgdmlzaWJsZSA9IHZpc2libGUuY29uY2F0KGFkZGVkKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgZGlzcGxheTogY29sLmRpc3BsYXksCiAgICAgICAgICBmaWx0ZXJzOiBjb2wuZGJfY29sdW1ucywKICAgICAgICAgIGVsZW1lbnRzOiB2aXNpYmxlLAogICAgICAgICAgYXV0b2NvbXBsZXRlOiBjb2wuZWxlbWVudHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgIHJldHVybiB4LmtleSAhPSBudWxsOwogICAgICAgICAgfSkKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICAvL2dldCBMaW5lcyAodHJpZ2dlcmVkIHZpYSBzaWRlYmFyIGFuZCApCiAgICBnZXRMaW5lczogZnVuY3Rpb24gZ2V0TGluZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxpbmVzOwogICAgfSwKICAgIGdldENvbnRleHQ6IGZ1bmN0aW9uIGdldENvbnRleHQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmNvbnRleHQ7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIHNldFRhYmxlOiBmdW5jdGlvbiBzZXRUYWJsZShzdGF0ZSwgcGF5bG9hZCkgewogICAgICBpZiAocGF5bG9hZCkgewogICAgICAgIHN0YXRlLnRhYmxlID0gcGF5bG9hZDsKICAgICAgfSBlbHNlIHsKICAgICAgICBzdGF0ZS5lcnJvciA9ICJObyBUYWJsZS4iOwogICAgICB9CiAgICB9LAogICAgc2V0QWN0aXZlTWV0cmljOiBmdW5jdGlvbiBzZXRBY3RpdmVNZXRyaWMoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgaWYgKHBheWxvYWQpIHN0YXRlLmFjdGl2ZU1ldHJpYyA9IHBheWxvYWQ7CiAgICB9LAogICAgLy9yZW1vdmUgbGluZSBmcm9tIHNpZGViYXIKICAgIHJlbW92ZUxpbmU6IGZ1bmN0aW9uIHJlbW92ZUxpbmUoc3RhdGUsIGlkZW50aWZpZXIpIHsKICAgICAgLy9tYWtlIHVzZWQgY29sb3IgYXZhaWxhYmxlIGFnYWluCiAgICAgIFZ1ZS5zZXQoc3RhdGUuY29sb3JzLmZpbmQoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC51c2VkID09IGlkZW50aWZpZXI7CiAgICAgIH0pLCAndXNlZCcsIGZhbHNlKTsgLy9kZWxldGUgbGluZSBmcm9tIHN0YXRlCgogICAgICBpZiAoc3RhdGUubGluZXMubGVuZ3RoID4gMSkgc3RhdGUubGluZXMuc3BsaWNlKHN0YXRlLmxpbmVzLmZpbmRJbmRleChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4LmlkZW50aWZpZXIgPT0gaWRlbnRpZmllcjsKICAgICAgfSksIDEpOwogICAgfSwKICAgIC8vd3JpdGUgcXVlcnkgdG8gbGluZXMKICAgIHdyaXRlUXVlcnk6IGZ1bmN0aW9uIHdyaXRlUXVlcnkoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgVnVlLnNldChzdGF0ZS5saW5lc1twYXlsb2FkLmluZGV4XS5xdWVyeSwgcGF5bG9hZC5maWx0ZXIsIHBheWxvYWQua2V5KTsKICAgIH0sCiAgICAvL3dyaXRlIEEgUEkgcmV0dXJuIHRvIGxpbmVzIChnb3R0ZW4gZnJvbSBjYWxsQVBJKCkpCiAgICB3cml0ZVZhbHVlczogZnVuY3Rpb24gd3JpdGVWYWx1ZXMoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgLy9jb25zb2xlLmxvZygid3JpdGVEYXRhIGNhbGxlZCIsIHBheWxvYWQpCiAgICAgIFZ1ZS5zZXQoc3RhdGUubGluZXNbcGF5bG9hZC5pbmRleF0sICJ2YWx1ZXMiLCBwYXlsb2FkLnZhbHVlcyk7CiAgICB9LAogICAgLy9hZGQgZmlsdGVyIHZpYSB0eXBlYWhlYWQKICAgIGFkZEZpbHRlcjogZnVuY3Rpb24gYWRkRmlsdGVyKHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIFZ1ZS5zZXQoc3RhdGUuYWRkZWRGaWx0ZXJzLCBzdGF0ZS5hZGRlZEZpbHRlcnMubGVuZ3RoLCBwYXlsb2FkKTsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIC8vaW5pdGlhbGl6ZSBhIG5ldyBsaW5lIChpbmNsLiBmaWx0ZXJzIGluIHNpZGViYXIgYW5kIGFjdHVhbCBsaW5lIGluIGdyYXBoKSwgdHJpZ2dlcmVkIGZyb20gc2lkZWJhcgogICAgYWRkTGluZTogZnVuY3Rpb24gYWRkTGluZShfcmVmKSAvL3F1ZXJ5IC8vcXVlcnkgaXMgcHJvdmlkZWQgYXMgcGF5bG9hZCBpbiBzaWRlYmFyLnZ1ZQogICAgewogICAgICB2YXIgc3RhdGUgPSBfcmVmLnN0YXRlLAogICAgICAgICAgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoOwogICAgICB2YXIgbGluZSA9IHt9OyAvL1RPRE86IGhhbmQgb3ZlciBwcmV2aW91cyBxdWVyeSB0byBuZXdseSBjcmVhdGVkIGxpbmUKCiAgICAgIGxpbmUucXVlcnkgPSB7fTsgLy91bmlxdWUgaWRlbnRpZmllciB0byB1cGRhdGUgcXVlcnkgb3IgZGVsZXRlIGxpbmUKCiAgICAgIGxpbmUuaWRlbnRpZmllciA9IHVuaXFpZC50aW1lKCk7IC8vYXNzaWduIGFuIHVudXNlZCBjb2xvciBhbmQgbWFyayBpdCB1c2VkCgogICAgICB2YXIgY29sb3JJbmRleCA9IHN0YXRlLmNvbG9ycy5maW5kSW5kZXgoZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gIWVsZW1lbnQudXNlZDsKICAgICAgfSk7CiAgICAgIGxpbmUuY29sb3IgPSBzdGF0ZS5jb2xvcnNbY29sb3JJbmRleF0uaGV4OwogICAgICBWdWUuc2V0KHN0YXRlLmNvbG9yc1tjb2xvckluZGV4XSwgJ3VzZWQnLCBsaW5lLmlkZW50aWZpZXIpOwogICAgICBWdWUuc2V0KHN0YXRlLmxpbmVzLCBzdGF0ZS5saW5lcy5sZW5ndGgsIGxpbmUpOyAvL3B1c2ggbmV3IGxpbmUgYXQgZW5kIG9mIGxpbmVzIGFycmF5CgogICAgICBkaXNwYXRjaCgnZ2V0RGF0YScsIHsKICAgICAgICBpZGVudGlmaWVyOiBmYWxzZSwKICAgICAgICBmaWx0ZXI6ICJtZXRyaWMiLAogICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICBrZXk6IHN0YXRlLm1ldHJpY3NbMF0ua2V5CiAgICAgICAgfSAvL1RPRE8gcmVwbGFjZSB3aXRoIGZpcnN0IG1ldHJpYyAoYXMgc29vbiBhcyBpdHMgaW5pdGlhbGl6ZWQpCgogICAgICB9KTsKICAgIH0sCiAgICAvL3VwZGF0ZSBxdWVyaWVzIGFuZCBnZXQgZGF0YSBmb3IgdGhlbQogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YShfcmVmMiwgcGF5bG9hZCkgewogICAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmMi5kaXNwYXRjaCwKICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdCwKICAgICAgICAgIHN0YXRlID0gX3JlZjIuc3RhdGU7CgogICAgICAvL2NvbnNvbGUubG9nKCJnZXREYXRhKCkgY2FsbGVkIiwgcGF5bG9hZCkKICAgICAgaWYgKHBheWxvYWQuaWRlbnRpZmllcikgewogICAgICAgIC8vaWYgcGF5bG9hZCBqdXN0IGFwcGxpZXMgdG8gYSBzaW5nbGUgbGluZQogICAgICAgIGNvbW1pdCgnd3JpdGVRdWVyeScsIHsKICAgICAgICAgIGluZGV4OiBzdGF0ZS5saW5lcy5maW5kSW5kZXgoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgcmV0dXJuIHguaWRlbnRpZmllciA9PSBwYXlsb2FkLmlkZW50aWZpZXI7CiAgICAgICAgICB9KSwKICAgICAgICAgIGZpbHRlcjogcGF5bG9hZC5xdWVyeS5maWx0ZXIsCiAgICAgICAgICBrZXk6IHBheWxvYWQucXVlcnkua2V5CiAgICAgICAgfSk7CiAgICAgICAgZGlzcGF0Y2goJ2NhbGxBUEknLCBwYXlsb2FkLmlkZW50aWZpZXIpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vaWYgaXQgYWZmZWN0cyBhbGwgbGluZXMgKGUuZy4gd2hlbiBhIG1ldHJpYyBpcyBjaGFuZ2VkKQogICAgICAgIHN0YXRlLmxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUsIGkpIHsKICAgICAgICAgIGNvbW1pdCgnd3JpdGVRdWVyeScsIHsKICAgICAgICAgICAgaW5kZXg6IGksCiAgICAgICAgICAgIGZpbHRlcjogJ21ldHJpYycsCiAgICAgICAgICAgIGtleTogcGF5bG9hZC5xdWVyeS5rZXkKICAgICAgICAgIH0pOwogICAgICAgICAgZGlzcGF0Y2goJ2NhbGxBUEknLCBsaW5lLmlkZW50aWZpZXIpOyAvL2Rpc3BhdGNoKCdkZWJ1Z0FQSScpCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvL2dldCBkYXRhIGZyb20gQVBJCiAgICBjYWxsQVBJOiBmdW5jdGlvbiBjYWxsQVBJKF9yZWYzLCBpZGVudGlmaWVyKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWYzLnN0YXRlOwogICAgICAvL2dldCBxdWVyeSBmb3IgbGluZSBiYXNlZCBvbiBpdHMgaWRlbnRpZmllcgogICAgICB2YXIgcXVlcnkgPSBzdGF0ZS5saW5lcy5maW5kKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgcmV0dXJuIHguaWRlbnRpZmllciA9PSBpZGVudGlmaWVyOwogICAgICB9KS5xdWVyeTsKICAgICAgcXVlcnkudHlwZSA9ICdyZXN1bHQnOyAvL3NldCBxdWVyeSBlbmQgKHF1YXNpIGVuZHBvaW50KSBmb3IgYXBpLnBocAoKICAgICAgcXVlcnkudGFibGUgPSBzdGF0ZS50YWJsZTsgLy9heGlvcy5wb3N0KCAiaHR0cHM6Ly9zb2NpYWwtZHluYW1pY3MubmV0L25va2lhdHdpbi9hcGkucGhwIixxdWVyeSwKCiAgICAgIGF4aW9zLnBvc3Qoc2VydmVyLCBxdWVyeSwgLy9mb3IgZGV2ZWxvcG1lbnQsIHRoaXMgaXMgb3ZlcndyaXR0ZW4gaW4gdnVlLmNvbmZpZy5qcwogICAgICB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbW1pdCgnd3JpdGVWYWx1ZXMnLCB7CiAgICAgICAgICBpbmRleDogc3RhdGUubGluZXMuZmluZEluZGV4KGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICAgIHJldHVybiB4LmlkZW50aWZpZXIgPT0gaWRlbnRpZmllcjsKICAgICAgICAgIH0pLAogICAgICAgICAgdmFsdWVzOiByZXNwb25zZS5kYXRhCiAgICAgICAgfSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZGVidWdBUEk6IGZ1bmN0aW9uIGRlYnVnQVBJKCkgewogICAgICB2YXIgcXVlcnkgPSB7CiAgICAgICAgdHlwZTogJ2RlYnVnJywKICAgICAgICBtZXRyaWM6ICdtZXRyaWNfcmF0aW5nX292ZXJhbGwnLAogICAgICAgIGZpbHRlcl9jb21wYW55OiAnc3RhcmJ1Y2tzJywKICAgICAgICBmaWx0ZXJfY291bnRyeTogJ1VuaXRlZCBLaW5nZG9tJywKICAgICAgICBmaWx0ZXJfZW1wbG95ZWVfdGl0bGU6ICdCYXJpc3RhJwogICAgICB9OwogICAgICBheGlvcy5wb3N0KHNlcnZlciwgcXVlcnksIC8vZm9yIGRldmVsb3BtZW50LCB0aGlzIGlzIG92ZXJ3cml0dGVuIGluIHZ1ZS5jb25maWcuanMKICAgICAgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLnNwbGl0KCJlbmRfb3V0cHV0IilbMF0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIC8vZ2V0IE1ldHJpY3MgYW5kIEZpbHRlcnMgb25jZSB0byB3cml0ZSB0aGVtIHRvIHN0b3JhZ2UKICAgIGdldE1ldHJpY3NBbmRGaWx0ZXJzOiBmdW5jdGlvbiBnZXRNZXRyaWNzQW5kRmlsdGVycyhfcmVmNCkgewogICAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmNC5kaXNwYXRjaCwKICAgICAgICAgIHN0YXRlID0gX3JlZjQuc3RhdGU7CiAgICAgIHZhciBxdWVyeSA9IHsKICAgICAgICB0eXBlOiAnbWV0cmljcycsCiAgICAgICAgdGFibGU6IHN0YXRlLnRhYmxlCiAgICAgIH07CiAgICAgIGF4aW9zLnBvc3Qoc2VydmVyLCBxdWVyeSwgLy9mb3IgZGV2ZWxvcG1lbnQsIHRoaXMgaXMgb3ZlcndyaXR0ZW4gaW4gdnVlLmNvbmZpZy5qcwogICAgICB7CiAgICAgICAgaGVhZGVyczogewogICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vZmlsdGVyIHJlc3BvbnNlIGJ5IG1ldHJpY18gYW5kIHdyaXRlIGl0IHRvIHN0b3JlCiAgICAgICAgdmFyIG1ldHJpY3MgPSByZXNwb25zZS5kYXRhLmZpbHRlcihmdW5jdGlvbiAoeCkgewogICAgICAgICAgcmV0dXJuIHgua2V5LnN0YXJ0c1dpdGgoJ21ldHJpY18nKTsKICAgICAgICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIC8vaWYgbm8gZGlzcGxheSBuYW1lIGdpdmVuLCB1c2UgZGIgY29sdW1uCiAgICAgICAgICBpZiAoIWl0ZW0uZGlzcGxheSkgaXRlbS5kaXNwbGF5ID0gaXRlbS5rZXk7CiAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICB9KTsKICAgICAgICBWdWUuc2V0KHN0YXRlLCAnbWV0cmljcycsIG1ldHJpY3MpOyAvL2ZpbHRlciBieSBmaWx0ZXJfIGFuZCBoYW5kIHRvIGdldEZpbHRlcnMoKSAod2hpY2ggY2FuIGdldCB2YWx1ZXMgZm9yIGVhY2ggZmlsdGVyKQoKICAgICAgICBkaXNwYXRjaCgnZ2V0RmlsdGVycycsIHJlc3BvbnNlLmRhdGEuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICByZXR1cm4geC5rZXkuc3RhcnRzV2l0aCgnZmlsdGVyXycpOwogICAgICAgIH0pKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRFdmVudHM6IGZ1bmN0aW9uIGdldEV2ZW50cyhfcmVmNSkgewogICAgICB2YXIgc3RhdGUgPSBfcmVmNS5zdGF0ZTsKICAgICAgdmFyIHF1ZXJ5ID0gewogICAgICAgIHR5cGU6ICdldmVudHMnLAogICAgICAgIHRhYmxlOiBzdGF0ZS50YWJsZQogICAgICB9OwogICAgICBheGlvcy5wb3N0KHNlcnZlciwgcXVlcnksIC8vZm9yIGRldmVsb3BtZW50LCB0aGlzIGlzIG92ZXJ3cml0dGVuIGluIHZ1ZS5jb25maWcuanMKICAgICAgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JwogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBWdWUuc2V0KHN0YXRlLCAnZXZlbnRzJywgcmVzcG9uc2UuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RmlsdGVyczogZnVuY3Rpb24gZ2V0RmlsdGVycyhfcmVmNiwgcGF5bG9hZCkgewogICAgICB2YXIgc3RhdGUgPSBfcmVmNi5zdGF0ZTsKICAgICAgLy90cmFuc2Zvcm0gZmlsdGVycyB3aXRoIHRoZSBzYW1lIG5hbWUgaW50byBhIGdyb3VwIHdpdGggbXVsdGlwbGUgZGJfY29sdW1ucwogICAgICB2YXIgZmlsdGVycyA9IFtdOwogICAgICBwYXlsb2FkLmZvckVhY2goZnVuY3Rpb24gKGZpbHRlcikgewogICAgICAgIHZhciBleGlzdHMgPSBmaWx0ZXJzLmZpbmQoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgIHJldHVybiB4LmRpc3BsYXkgPT0gZmlsdGVyLmRpc3BsYXk7CiAgICAgICAgfSk7CgogICAgICAgIGlmIChleGlzdHMpIHsKICAgICAgICAgIGV4aXN0cy5kYl9jb2x1bW5zLnB1c2goZmlsdGVyLmtleSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGZpbHRlcnMucHVzaCh7CiAgICAgICAgICAgIGRpc3BsYXk6IGZpbHRlci5kaXNwbGF5LAogICAgICAgICAgICBkYl9jb2x1bW5zOiBbZmlsdGVyLmtleV0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7IC8vZ2VuZXJhdGUgbGlzdHMgb2YgY29sdW1ucywgdGhlbiBmaWxsIHRoZW0gd2l0aCBmaWx0ZXJzCgogICAgICBmaWx0ZXJzID0gZmlsdGVycy5tYXAoZnVuY3Rpb24gKGZpbHRlcikgewogICAgICAgIGZpbHRlci5lbGVtZW50cyA9IFtdOyAvL2J1Y2tldCB0byBmaWxsCgogICAgICAgIGZpbHRlci5kYl9jb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbikgewogICAgICAgICAgdmFyIHF1ZXJ5ID0gewogICAgICAgICAgICB0eXBlOiAnc2VsZWN0b3JzJywKICAgICAgICAgICAgbGlzdFNlbGVjdG9yOiBjb2x1bW4sCiAgICAgICAgICAgIHRhYmxlOiBzdGF0ZS50YWJsZQogICAgICAgICAgfTsKICAgICAgICAgIGF4aW9zLnBvc3Qoc2VydmVyLCBxdWVyeSwgLy9mb3IgZGV2ZWxvcG1lbnQsIHRoaXMgaXMgb3ZlcndyaXR0ZW4gaW4gdnVlLmNvbmZpZy5qcwogICAgICAgICAgewogICAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudCkgewogICAgICAgICAgICAgIC8vZm9yIGVhY2ggaXRlbSBpbiB0aGUgbGlzdCwgY3JlYXRlIGEgdW5pcXVlIG9iamVjdCB0byBwYXNzIG9uCiAgICAgICAgICAgICAgdmFyIGl0ZW0gPSB7CiAgICAgICAgICAgICAgICBrZXk6IGVsZW1lbnRbY29sdW1uXSwKICAgICAgICAgICAgICAgIGZpbHRlcjogY29sdW1uLAogICAgICAgICAgICAgICAgY291bnQ6IGVsZW1lbnQuY291bnQKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIGZpbHRlci5lbGVtZW50cy5wdXNoKGl0ZW0pOyAvL2ZpbGwgdGhlIGJ1Y2tldAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgZmlsdGVyLmVsZW1lbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsKICAgICAgICAgICAgICByZXR1cm4gYi5jb3VudCAtIGEuY291bnQ7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGZpbHRlcjsKICAgICAgfSk7CiAgICAgIFZ1ZS5zZXQoc3RhdGUsICdmaWx0ZXJDb2x1bW5zJywgZmlsdGVycyk7CiAgICB9CiAgfQp9KTs="},{"version":3,"sources":["/Users/tk/GitHub/nokiatwin/src/store/store.js"],"names":["Vue","Vuex","axios","uniqid","use","server","Store","state","error","table","lines","metrics","activeMetric","filterColumns","colors","hex","used","addedFilters","events","getters","getFilterColumns","map","col","visible","elements","slice","added","filter","x","db_columns","includes","concat","display","filters","autocomplete","key","getLines","getContext","context","mutations","setTable","payload","setActiveMetric","removeLine","identifier","set","find","length","splice","findIndex","writeQuery","index","query","writeValues","values","addFilter","actions","addLine","dispatch","line","time","colorIndex","element","color","getData","commit","forEach","i","callAPI","type","post","headers","then","response","data","catch","console","log","debugAPI","metric","filter_company","filter_country","filter_employee_title","split","getMetricsAndFilters","startsWith","item","getEvents","getFilters","exists","push","column","listSelector","count","sort","a","b"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\nimport uniqid from 'uniqid';\n\nVue.use(Vuex)\n\nlet server = \"http://localhost:8080/nokiatwin/api.php\" //development\n//let server = \"https://social-dynamics.net/nokiatwin/api.php\" // production\n\nexport default new Vuex.Store({\n  state: {\n    error: \"\",\n    table: \"\",\n    lines: [], //empty array, filled by addLine() and removeLine(), triggered via sidebar.vue\n    metrics:[], //metrics to display (metric_ columns in db)\n    activeMetric: \"\",\n    filterColumns: [], //filters to apply (filter_ columns in db)\n    colors: [\n      {hex: \"#20C5A0\", used: false},\n      {hex: \"#BD10E0\", used: false},\n      {hex: \"#F5A623\", used: false},\n      {hex: \"#4A90E2\", used: false},\n      {hex: \"#ACC000\", used: false}\n    ],\n    addedFilters: [], //initialize array for filters the user added via typeahead\n    events: []\n  },\n\n\n\n  getters: {\n    //get reduced list of possible values to display\n    getFilterColumns: state => {\n      return state.filterColumns.map(col => {\n        let visible = col.elements.slice(0,5) //select five most frequent labels\n        //identify filters that were added for the current column\n        let added = state.addedFilters.filter(x=>col.db_columns.includes(x.filter)) //select added filters that match any of the given db columns\n        visible = visible.concat(added)\n\n        return {\n          display: col.display,\n          filters: col.db_columns,\n          elements: visible,\n          autocomplete: col.elements.filter(x=>x.key != null)\n        }\n      })\n    },\n\n    //get Lines (triggered via sidebar and )\n    getLines: (state) => state.lines,\n    getContext: (state) => state.context\n  },\n\n\n  mutations: {\n    setTable(state,payload) {\n      if(payload) {\n        state.table = payload\n      } else {\n        state.error = \"No Table.\"\n      }\n    },\n    setActiveMetric(state,payload) {\n      if(payload) state.activeMetric = payload\n    },\n      //remove line from sidebar\n    removeLine(state, identifier) {\n      //make used color available again\n      Vue.set(state.colors.find(x=>x.used == identifier),'used',false)\n      //delete line from state\n      if(state.lines.length > 1) state.lines.splice(state.lines.findIndex(x=>x.identifier == identifier),1)\n    },\n\n    //write query to lines\n    writeQuery(state, payload) {\n      Vue.set(state.lines[payload.index].query, payload.filter, payload.key)\n    },\n\n    //write A PI return to lines (gotten from callAPI())\n    writeValues(state, payload) {\n      //console.log(\"writeData called\", payload)\n      Vue.set(state.lines[payload.index], \"values\", payload.values)\n    },\n\n    //add filter via typeahead\n    addFilter(state, payload) {\n      Vue.set(state.addedFilters,state.addedFilters.length,payload)\n    },\n  },\n\n\n\n  actions: {\n    //initialize a new line (incl. filters in sidebar and actual line in graph), triggered from sidebar\n    addLine(\n      {state, dispatch},\n      //query //query is provided as payload in sidebar.vue\n    ) {\n      let line = {}\n      //TODO: hand over previous query to newly created line\n      line.query = {}\n\n      //unique identifier to update query or delete line\n      line.identifier = uniqid.time()\n\n      //assign an unused color and mark it used\n      let colorIndex = state.colors.findIndex(element  => !element.used)\n      line.color = state.colors[colorIndex].hex\n      Vue.set(state.colors[colorIndex],'used',line.identifier)\n      Vue.set(state.lines, state.lines.length, line) //push new line at end of lines array\n\n      dispatch('getData', {\n        identifier: false,\n        filter: \"metric\",\n        query: {key: state.metrics[0].key} //TODO replace with first metric (as soon as its initialized)\n      })\n    },\n\n\n    //update queries and get data for them\n    getData({dispatch, commit, state}, payload) {\n      //console.log(\"getData() called\", payload)\n\n      if(payload.identifier) { //if payload just applies to a single line\n        commit('writeQuery',{\n          index: state.lines.findIndex(x=>x.identifier == payload.identifier),\n          filter: payload.query.filter,\n          key: payload.query.key\n        })\n        dispatch('callAPI',payload.identifier)\n      } else { //if it affects all lines (e.g. when a metric is changed)\n        state.lines.forEach((line, i) => {\n          commit('writeQuery',{\n            index: i,\n            filter: 'metric',\n            key: payload.query.key\n          })\n          dispatch('callAPI',line.identifier)\n          //dispatch('debugAPI')\n        })\n      }\n    },\n\n    //get data from API\n    callAPI( {commit,state}, identifier) {\n      //get query for line based on its identifier\n      let query = state.lines.find(x=>x.identifier == identifier).query\n      query.type = 'result' //set query end (quasi endpoint) for api.php\n      query.table = state.table\n      //axios.post( \"https://social-dynamics.net/nokiatwin/api.php\",query,\n      axios.post( server,query, //for development, this is overwritten in vue.config.js\n        {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n      })\n      .then(response => {\n\n        commit('writeValues',{\n          index: state.lines.findIndex(x=>x.identifier == identifier),\n          values: response.data\n        })\n      })\n      .catch(error => {\n        console.log(error)\n      });\n    },\n\n    debugAPI() {\n      let query = {\n        type: 'debug',\n        metric: 'metric_rating_overall',\n        filter_company: 'starbucks',\n        filter_country: 'United Kingdom',\n        filter_employee_title: 'Barista'\n      }\n      axios.post( server,query, //for development, this is overwritten in vue.config.js\n        {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n      })\n      .then(response => {\n        console.log(response.data.split(\"end_output\")[0])\n      })\n      .catch(error => {\n        console.log(error)\n      });\n    },\n\n\n    //get Metrics and Filters once to write them to storage\n    getMetricsAndFilters({dispatch, state}) {\n      let query = {type: 'metrics', table: state.table}\n      axios.post( server,query, //for development, this is overwritten in vue.config.js\n        {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n      })\n      .then(response => {\n        //filter response by metric_ and write it to store\n        let metrics = response.data.filter(x=>x.key.startsWith('metric_')).map(item => {\n          //if no display name given, use db column\n          if(!item.display) item.display = item.key\n          return item\n        })\n        Vue.set(state,'metrics',metrics)\n\n\n        //filter by filter_ and hand to getFilters() (which can get values for each filter)\n        dispatch('getFilters', response.data.filter(x=>x.key.startsWith('filter_')))\n      })\n      .catch(error => {\n        console.log(error)\n      });\n    },\n\n    getEvents({state}) {\n      let query = {type: 'events', table: state.table}\n      axios.post( server,query, //for development, this is overwritten in vue.config.js\n        {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n      })\n      .then(response => {\n        Vue.set(state,'events',response.data)\n      })\n      .catch(error => {\n        console.log(error)\n      });\n    },\n\n    getFilters({state}, payload) {\n      //transform filters with the same name into a group with multiple db_columns\n      let filters = []\n      payload.forEach(filter => {\n        let exists = filters.find(x=>x.display == filter.display)\n        if(exists) {\n          exists.db_columns.push(filter.key)\n        } else {\n          filters.push({display: filter.display, db_columns: [filter.key]})\n        }\n      })\n\n      //generate lists of columns, then fill them with filters\n      filters = filters.map(filter => {\n        filter.elements = [] //bucket to fill\n        filter.db_columns.forEach(column => {\n          let query = {\n            type: 'selectors',\n            listSelector: column,\n            table: state.table\n          }\n          axios.post( server,query,  //for development, this is overwritten in vue.config.js\n            {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n          })\n          .then(response => {\n            response.data.forEach(element => { //for each item in the list, create a unique object to pass on\n              let item = {\n                key: element[column],\n                filter: column,\n                count: element.count\n              }\n              filter.elements.push(item) //fill the bucket\n            })\n            filter.elements.sort((a,b) => b.count - a.count)\n          })\n        })\n        return filter\n      })\n      Vue.set(state,'filterColumns',filters)\n    }\n  }\n})\n"]}]}