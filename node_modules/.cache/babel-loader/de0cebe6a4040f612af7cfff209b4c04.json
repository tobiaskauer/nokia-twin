{"remainingRequest":"/Users/tk/GitHub/nokiatwin/node_modules/thread-loader/dist/cjs.js!/Users/tk/GitHub/nokiatwin/node_modules/babel-loader/lib/index.js!/Users/tk/GitHub/nokiatwin/node_modules/eslint-loader/index.js??ref--13-0!/Users/tk/GitHub/nokiatwin/src/store/store.js","dependencies":[{"path":"/Users/tk/GitHub/nokiatwin/src/store/store.js","mtime":1596713979692},{"path":"/Users/tk/GitHub/nokiatwin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokiatwin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokiatwin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokiatwin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQtaW5kZXgiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCB1bmlxaWQgZnJvbSAndW5pcWlkJzsKVnVlLnVzZShWdWV4KTsKZXhwb3J0IGRlZmF1bHQgbmV3IFZ1ZXguU3RvcmUoewogIHN0YXRlOiB7CiAgICBsaW5lczogW10sCiAgICAvL2VtcHR5IGFycmF5LCBmaWxsZWQgYnkgYWRkTGluZSgpIGFuZCByZW1vdmVMaW5lKCksIHRyaWdnZXJlZCB2aWEgc2lkZWJhci52dWUKICAgIG1ldHJpY3M6IFsvL0FkZCBtZXRyaWNzIChhbmQgY29ycmVzcG9uZGluZyBkYi1jb2x1bW4gYXMga2V5KSBoZXJlCiAgICB7CiAgICAgIGtleTogInJhdGluZ19vdmVyYWxsIiwKICAgICAgZGlzcGxheTogIk92ZXJhbGwgUmF0aW5ncyIKICAgIH0sIHsKICAgICAga2V5OiAicmF0aW5nX2JhbGFuY2UiLAogICAgICBkaXNwbGF5OiAiV29yay1MaWZlIEJhbGFuY2UiCiAgICB9LCB7CiAgICAgIGtleTogInJhdGluZ19jdWx0dXJlIiwKICAgICAgZGlzcGxheTogIkN1bHR1cmUgJiBWYWx1ZXMiCiAgICB9LCB7CiAgICAgIGtleTogInJhdGluZ19jYXJlZXIiLAogICAgICBkaXNwbGF5OiAiQ2FyZWVyIE9wcG9ydHVuaXRpZXMiCiAgICB9LCB7CiAgICAgIGtleTogInJhdGluZ19jb21wIiwKICAgICAgZGlzcGxheTogIkNvbXBlbnNhdGlvbiAmIEJlbmVmaXRzIgogICAgfSwgewogICAgICBrZXk6ICJyYXRpbmdfbWdtdCIsCiAgICAgIGRpc3BsYXk6ICJTZW5pb3IgTGVhZGVyc2hpcCIKICAgIH1dLAogICAgLy9nZW5lcmF0ZSBsaXN0cyBvZiBjb2x1bW5zLCB0aGVuIGZpbGwgdGhlbSB3aXRoIGZpbHRlcnMKICAgIC8vQWRkIGFkZGl0aW9uYWwgZmlsdGVyIGNvbHVtbnMgKGFuZCBjb3JyZXNwb25kaW5nIGRiX2NvbHVtbnMpIGhlcmUKICAgIGZpbHRlckNvbHVtbnM6IFt7CiAgICAgIG5hbWU6ICJDb21wYW55IiwKICAgICAgZGJfY29sdW1uczogWyJjb21wYW55Il0KICAgIH0sIHsKICAgICAgbmFtZTogIkxvY2F0aW9uIiwKICAgICAgZGJfY29sdW1uczogWyJsb2NhdGlvbiIsICJjb3VudHJ5Il0KICAgIH0gLy97bmFtZTogIlJvbGUiLCBkYl9jb2x1bW5zOiBbImVtcGxveWVlX3RpdGxlIl19LAogICAgXS5tYXAoZnVuY3Rpb24gKGZpbHRlcikgewogICAgICBmaWx0ZXIuZWxlbWVudHMgPSBbXTsgLy9idWNrZXQgdG8gZmlsbAoKICAgICAgZmlsdGVyLmRiX2NvbHVtbnMuZm9yRWFjaChmdW5jdGlvbiAoY29sdW1uKSB7CiAgICAgICAgdmFyIHF1ZXJ5ID0gewogICAgICAgICAgdHlwZTogJ3NlbGVjdG9ycycsCiAgICAgICAgICBsaXN0U2VsZWN0b3I6IGNvbHVtbgogICAgICAgIH07CiAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL3NvY2lhbC1keW5hbWljcy5uZXQvbm9raWF0d2luL2FwaS5waHAiLCBxdWVyeSwgLy9heGlvcy5wb3N0KCAiaHR0cDovL2xvY2FsaG9zdDo4MDgwL25va2lhdHdpbi9hcGkucGhwIixxdWVyeSwgIC8vZm9yIGRldmVsb3BtZW50LCB0aGlzIGlzIG92ZXJ3cml0dGVuIGluIHZ1ZS5jb25maWcuanMKICAgICAgICB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PVVURi04JwogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICByZXNwb25zZS5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgLy9mb3IgZWFjaCBpdGVtIGluIHRoZSBsaXN0LCBjcmVhdGUgYSB1bmlxdWUgb2JqZWN0IHRvIHBhc3Mgb24KICAgICAgICAgICAgdmFyIGl0ZW0gPSB7CiAgICAgICAgICAgICAga2V5OiBlbGVtZW50W2NvbHVtbl0sCiAgICAgICAgICAgICAgZmlsdGVyOiBjb2x1bW4sCiAgICAgICAgICAgICAgY291bnQ6IGVsZW1lbnQuY291bnQKICAgICAgICAgICAgfTsKICAgICAgICAgICAgZmlsdGVyLmVsZW1lbnRzLnB1c2goaXRlbSk7IC8vZmlsbCB0aGUgYnVja2V0CiAgICAgICAgICB9KTsKICAgICAgICAgIGZpbHRlci5lbGVtZW50cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIHJldHVybiBiLmNvdW50IC0gYS5jb3VudDsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIGZpbHRlcjsKICAgIH0pLAogICAgLy9pbml0aWFsaXplIGFycmF5IGZvciBmaWx0ZXJzIHRoZSB1c2VyIGFkZGVkIHZpYSB0eXBlYWhlYWQKICAgIGFkZGVkRmlsdGVyczogW10sCiAgICAvL3RpbWUtYmFzZWQgYW5ub3RhdGlvbnMKICAgIGNvbnRleHQ6IFt7CiAgICAgIGRhdGU6ICIyMDA5LTExIiwKICAgICAgdGV4dDogIkJhcnJhY2sgT2JhbWEgZWxlY3RlZCBwcmVzaWRlbnQiCiAgICB9LCB7CiAgICAgIGRhdGU6ICIyMDE3LTA2IiwKICAgICAgdGV4dDogIlRvYmkgc3RhcnRzIGF0IEJlbGwgTGFicyIKICAgIH1dCiAgfSwKICBnZXR0ZXJzOiB7CiAgICAvL2dldCByZWR1Y2VkIGxpc3Qgb2YgcG9zc2libGUgdmFsdWVzIHRvIGRpc3BsYXkKICAgIGdldEZpbHRlckNvbHVtbnM6IGZ1bmN0aW9uIGdldEZpbHRlckNvbHVtbnMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmZpbHRlckNvbHVtbnMubWFwKGZ1bmN0aW9uIChjb2wpIHsKICAgICAgICB2YXIgdmlzaWJsZSA9IGNvbC5lbGVtZW50cy5zbGljZSgwLCA1KTsgLy9zZWxlY3QgZml2ZSBtb3N0IGZyZXF1ZW50IGxhYmVscwogICAgICAgIC8vaWRlbnRpZnkgZmlsdGVycyB0aGF0IHdlcmUgYWRkZWQgZm9yIHRoZSBjdXJyZW50IGNvbHVtbgoKICAgICAgICB2YXIgYWRkZWQgPSBzdGF0ZS5hZGRlZEZpbHRlcnMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7CiAgICAgICAgICByZXR1cm4geC5maWx0ZXIudG9Mb3dlckNhc2UoKSA9PSBjb2wubmFtZS50b0xvd2VyQ2FzZSgpOwogICAgICAgIH0pOyAvL3NlbGVjdCBhZGRlZCBmaWx0ZXJzIHRoYXQgbWF0Y2ggdGhlIGNvbHVtbgoKICAgICAgICB2aXNpYmxlID0gdmlzaWJsZS5jb25jYXQoYWRkZWQpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBuYW1lOiBjb2wubmFtZSwKICAgICAgICAgIGVsZW1lbnRzOiB2aXNpYmxlLAogICAgICAgICAgYXV0b2NvbXBsZXRlOiBjb2wuZWxlbWVudHMKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICAvL2dldCBMaW5lcyAodHJpZ2dlcmVkIHZpYSBzaWRlYmFyIGFuZCApCiAgICBnZXRMaW5lczogZnVuY3Rpb24gZ2V0TGluZXMoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmxpbmVzOwogICAgfSwKICAgIGdldENvbnRleHQ6IGZ1bmN0aW9uIGdldENvbnRleHQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmNvbnRleHQ7CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIC8vaW5pdGlhbGl6ZSBhIG5ldyBsaW5lIChpbmNsLiBmaWx0ZXJzIGluIHNpZGViYXIgYW5kIGFjdHVhbCBsaW5lIGluIGdyYXBoKSwgdHJpZ2dlcmVkIGZyb20gc2lkZWJhcgogICAgYWRkTGluZTogZnVuY3Rpb24gYWRkTGluZShzdGF0ZSkgewogICAgICB2YXIgbGluZSA9IHt9OyAvL3NldCBhIGNvbG9yIGZvciB0byBpZGVudGlmeSB0aGUgbGluZQogICAgICAvL1RPRE8gRG9lcyBub3Qgc2VsZWN0IGxhc3QgdHdvIGNvbG9ycyBmb3Igc29tZSByZWFzb24KCiAgICAgIHZhciBjb2xvcnMgPSBbIiMyMEM1QTAiLCAiI0JEMTBFMCIsICIjRjVBNjIzIiwgIjRBOTBFMiIsICJBQ0MwMDAiXTsKICAgICAgbGluZS5jb2xvciA9IGNvbG9yc1tzdGF0ZS5saW5lcy5sZW5ndGhdOyAvL1RPRE86IEZJWCEgYWRkaW5nIGEgbmV3IGxpbmUgZmx1c2hlcyBxdWVyaWVzIG9mIGV4aXN0aW5nIGxpbmVzCiAgICAgIC8vY2hlY2sgaWYgYW55IHBhcmFtZXRlcnMgd2VyZSBwYXNzZWQsIGlmIHNvLCB0YWtlIHRoZW0sIGlmIG5vdCBpbml0aWFsaXplIGVtcHR5IHF1ZXJ5IGZvciBkYiB3aXRoIGFsbCBwb3NzaWJsZSBmaWx0ZXJzCiAgICAgIC8vbGluZS5xdWVyeSA9IChPYmplY3Qua2V5cyhxdWVyeSkubGVuZ3RoICE9PSAwKSA/IHF1ZXJ5IDoge30KCiAgICAgIGxpbmUucXVlcnkgPSB7fTsKICAgICAgdmFyIGZpbHRlcnMgPSBbXTsKICAgICAgc3RhdGUuZmlsdGVyQ29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChjb2wpIHsKICAgICAgICBjb2wuZGJfY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uIChkYmNvbCkgewogICAgICAgICAgZmlsdGVycy5wdXNoKGRiY29sKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIGZpbHRlcnMucHVzaCgibWV0cmljIik7CiAgICAgIGZpbHRlcnMuZm9yRWFjaChmdW5jdGlvbiAoZmlsdGVyKSB7CiAgICAgICAgcmV0dXJuIGxpbmUucXVlcnlbZmlsdGVyXSA9IHVuZGVmaW5lZDsKICAgICAgfSk7CiAgICAgIGxpbmUuaWRlbnRpZmllciA9IHVuaXFpZC50aW1lKCk7IC8vdW5pcXVlIGlkZW50aWZpZXIgdG8gdXBkYXRlIHF1ZXJ5IG9yIGRlbGV0ZSBsaW5lCgogICAgICBWdWUuc2V0KHN0YXRlLmxpbmVzLCBzdGF0ZS5saW5lcy5sZW5ndGgsIGxpbmUpOyAvL3B1c2ggbmV3IGxpbmUgYXQgZW5kIG9mIGxpbmVzIGFycmF5CiAgICB9LAogICAgLy9yZW1vdmUgbGluZSBmcm9tIHNpZGViYXIKICAgIHJlbW92ZUxpbmU6IGZ1bmN0aW9uIHJlbW92ZUxpbmUoc3RhdGUsIGlkZW50aWZpZXIpIHsKICAgICAgaWYgKHN0YXRlLmxpbmVzLmxlbmd0aCA+IDEpIHN0YXRlLmxpbmVzLnNwbGljZShzdGF0ZS5saW5lcy5maW5kSW5kZXgoZnVuY3Rpb24gKHgpIHsKICAgICAgICByZXR1cm4geC5pZGVudGlmaWVyID09IGlkZW50aWZpZXI7CiAgICAgIH0pLCAxKTsKICAgIH0sCiAgICAvL3dyaXRlIHF1ZXJ5IHRvIGxpbmVzCiAgICB3cml0ZVF1ZXJ5OiBmdW5jdGlvbiB3cml0ZVF1ZXJ5KHN0YXRlLCBwYXlsb2FkKSB7CiAgICAgIC8vY29uc29sZS5sb2coIndyaXRlUXVlcnkoKSBjYWxsZWQiLCBwYXlsb2FkKQogICAgICBWdWUuc2V0KHN0YXRlLmxpbmVzW3BheWxvYWQuaW5kZXhdLnF1ZXJ5LCBwYXlsb2FkLmZpbHRlciwgcGF5bG9hZC5rZXkpOwogICAgfSwKICAgIC8vd3JpdGUgQSBQSSByZXR1cm4gdG8gbGluZXMgKGdvdHRlbiBmcm9tIGNhbGxBUEkoKSkKICAgIHdyaXRlVmFsdWVzOiBmdW5jdGlvbiB3cml0ZVZhbHVlcyhzdGF0ZSwgcGF5bG9hZCkgewogICAgICAvL2NvbnNvbGUubG9nKCJ3cml0ZURhdGEgY2FsbGVkIiwgcGF5bG9hZCkKICAgICAgVnVlLnNldChzdGF0ZS5saW5lc1twYXlsb2FkLmluZGV4XSwgInZhbHVlcyIsIHBheWxvYWQudmFsdWVzKTsKICAgIH0sCiAgICAvL2FkZCBmaWx0ZXIgdmlhIHR5cGVhaGVhZAogICAgYWRkRmlsdGVyOiBmdW5jdGlvbiBhZGRGaWx0ZXIoc3RhdGUsIHBheWxvYWQpIHsKICAgICAgVnVlLnNldChzdGF0ZS5hZGRlZEZpbHRlcnMsIHN0YXRlLmFkZGVkRmlsdGVycy5sZW5ndGgsIHBheWxvYWQpOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgLy91cGRhdGUgcXVlcmllcyBhbmQgZ2V0IGRhdGEgZm9yIHRoZW0KICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoX3JlZiwgcGF5bG9hZCkgewogICAgICB2YXIgZGlzcGF0Y2ggPSBfcmVmLmRpc3BhdGNoLAogICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQsCiAgICAgICAgICBzdGF0ZSA9IF9yZWYuc3RhdGU7CgogICAgICAvL2NvbnNvbGUubG9nKCJnZXREYXRhKCkgY2FsbGVkIiwgcGF5bG9hZCkKICAgICAgaWYgKHBheWxvYWQuaWRlbnRpZmllcikgewogICAgICAgIC8vaWYgcGF5bG9hZCBqdXN0IGFwcGxpZXMgdG8gYSBzaW5nbGUgbGluZQogICAgICAgIGNvbW1pdCgnd3JpdGVRdWVyeScsIHsKICAgICAgICAgIGluZGV4OiBzdGF0ZS5saW5lcy5maW5kSW5kZXgoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgcmV0dXJuIHguaWRlbnRpZmllciA9PSBwYXlsb2FkLmlkZW50aWZpZXI7CiAgICAgICAgICB9KSwKICAgICAgICAgIGZpbHRlcjogcGF5bG9hZC5xdWVyeS5maWx0ZXIsCiAgICAgICAgICBrZXk6IHBheWxvYWQucXVlcnkua2V5CiAgICAgICAgfSk7CiAgICAgICAgZGlzcGF0Y2goJ2NhbGxBUEknLCBwYXlsb2FkLmlkZW50aWZpZXIpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vaWYgaXQgYWZmZWN0cyBhbGwgbGluZXMgKGUuZy4gd2hlbiBhIG1ldHJpYyBpcyBjaGFuZ2VkKQogICAgICAgIHN0YXRlLmxpbmVzLmZvckVhY2goZnVuY3Rpb24gKGxpbmUsIGkpIHsKICAgICAgICAgIGNvbW1pdCgnd3JpdGVRdWVyeScsIHsKICAgICAgICAgICAgaW5kZXg6IGksCiAgICAgICAgICAgIGZpbHRlcjogJ21ldHJpYycsCiAgICAgICAgICAgIGtleTogcGF5bG9hZC5xdWVyeS5rZXkKICAgICAgICAgIH0pOwogICAgICAgICAgZGlzcGF0Y2goJ2NhbGxBUEknLCBsaW5lLmlkZW50aWZpZXIpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy9nZXQgZGF0YSBmcm9tIEFQSQogICAgY2FsbEFQSTogZnVuY3Rpb24gY2FsbEFQSShfcmVmMiwgaWRlbnRpZmllcikgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0LAogICAgICAgICAgc3RhdGUgPSBfcmVmMi5zdGF0ZTsKICAgICAgdmFyIHF1ZXJ5ID0gc3RhdGUubGluZXMuZmluZChmdW5jdGlvbiAoeCkgewogICAgICAgIHJldHVybiB4LmlkZW50aWZpZXIgPT0gaWRlbnRpZmllcjsKICAgICAgfSkucXVlcnk7CiAgICAgIGlmICghcXVlcnkubWV0cmljKSBxdWVyeS5tZXRyaWMgPSAicmF0aW5nX292ZXJhbGwiOyAvL2F2b2lkIGNyYXNoIGJlY2F1c2UgaW5pdGlhbCBtZXRyaWMgaGFzIG5vdCBiZWVuIGRlZmluZWQKCiAgICAgIHF1ZXJ5LnR5cGUgPSAncmVzdWx0JzsgLy9zZXQgcXVlcnkgZW5kIChxdWFzaSBlbmRwb2ludCkgZm9yIGFwaS5waHAKCiAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9zb2NpYWwtZHluYW1pY3MubmV0L25va2lhdHdpbi9hcGkucGhwIiwgcXVlcnksIC8vYXhpb3MucG9zdCggImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MC9ub2tpYXR3aW4vYXBpLnBocD8iLHF1ZXJ5LCAvL2ZvciBkZXZlbG9wbWVudCwgdGhpcyBpcyBvdmVyd3JpdHRlbiBpbiB2dWUuY29uZmlnLmpzCiAgICAgIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29tbWl0KCd3cml0ZVZhbHVlcycsIHsKICAgICAgICAgIGluZGV4OiBzdGF0ZS5saW5lcy5maW5kSW5kZXgoZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgcmV0dXJuIHguaWRlbnRpZmllciA9PSBpZGVudGlmaWVyOwogICAgICAgICAgfSksCiAgICAgICAgICB2YWx1ZXM6IHJlc3BvbnNlLmRhdGEKICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"sources":["/Users/tk/GitHub/nokiatwin/src/store/store.js"],"names":["Vue","Vuex","axios","uniqid","use","Store","state","lines","metrics","key","display","filterColumns","name","db_columns","map","filter","elements","forEach","column","query","type","listSelector","post","headers","then","response","data","element","item","count","push","sort","a","b","addedFilters","context","date","text","getters","getFilterColumns","col","visible","slice","added","x","toLowerCase","concat","autocomplete","getLines","getContext","mutations","addLine","line","colors","color","length","filters","dbcol","undefined","identifier","time","set","removeLine","splice","findIndex","writeQuery","payload","index","writeValues","values","addFilter","actions","getData","dispatch","commit","i","callAPI","find","metric","catch","error","console","log"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport axios from 'axios'\nimport uniqid from 'uniqid';\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    lines: [], //empty array, filled by addLine() and removeLine(), triggered via sidebar.vue\n    metrics:[ //Add metrics (and corresponding db-column as key) here\n      {key: \"rating_overall\", display: \"Overall Ratings\"},\n      {key: \"rating_balance\", display: \"Work-Life Balance\"},\n      {key: \"rating_culture\", display: \"Culture & Values\"},\n      {key: \"rating_career\", display: \"Career Opportunities\"},\n      {key: \"rating_comp\", display: \"Compensation & Benefits\"},\n      {key: \"rating_mgmt\", display: \"Senior Leadership\"}\n    ],\n\n    //generate lists of columns, then fill them with filters\n    //Add additional filter columns (and corresponding db_columns) here\n    filterColumns: [\n      {name: \"Company\", db_columns: [\"company\"]},\n      {name: \"Location\", db_columns: [\"location\",\"country\"]},\n      //{name: \"Role\", db_columns: [\"employee_title\"]},\n    ].map(filter => {\n      filter.elements = [] //bucket to fill\n      filter.db_columns.forEach(column => {\n        let query = {\n          type: 'selectors',\n          listSelector: column\n        }\n        axios.post( \"http://social-dynamics.net/nokiatwin/api.php\",query,\n        //axios.post( \"http://localhost:8080/nokiatwin/api.php\",query,  //for development, this is overwritten in vue.config.js\n          {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n        })\n        .then(response => {\n          response.data.forEach(element => { //for each item in the list, create a unique object to pass on\n            let item = {\n              key: element[column],\n              filter: column,\n              count: element.count\n            }\n            filter.elements.push(item) //fill the bucket\n          })\n          filter.elements.sort((a,b) => b.count - a.count)\n        })\n      })\n      return filter\n    }),\n\n     //initialize array for filters the user added via typeahead\n    addedFilters: [],\n\n    //time-based annotations\n    context: [\n      {date: \"2009-11\", text:\"Barrack Obama elected president\"},\n      {date: \"2017-06\", text:\"Tobi starts at Bell Labs\"}\n    ]\n  },\n\n\n\n  getters: {\n    //get reduced list of possible values to display\n    getFilterColumns: state => {\n      return state.filterColumns.map(col => {\n        let visible = col.elements.slice(0,5) //select five most frequent labels\n        //identify filters that were added for the current column\n        let added = state.addedFilters.filter(x=>x.filter.toLowerCase() == col.name.toLowerCase()) //select added filters that match the column\n        visible = visible.concat(added)\n        return {\n          name: col.name,\n          elements: visible,\n          autocomplete: col.elements\n        }\n      })\n    },\n\n    //get Lines (triggered via sidebar and )\n    getLines: (state) => state.lines,\n    getContext: (state) => state.context\n  },\n\n\n  mutations: {\n    //initialize a new line (incl. filters in sidebar and actual line in graph), triggered from sidebar\n    addLine(state) {\n      let line = {}\n      //set a color for to identify the line\n      //TODO Does not select last two colors for some reason\n      let colors = [\"#20C5A0\",\"#BD10E0\",\"#F5A623\",\"4A90E2\",\"ACC000\"]\n      line.color = colors[state.lines.length]\n\n      //TODO: FIX! adding a new line flushes queries of existing lines\n      //check if any parameters were passed, if so, take them, if not initialize empty query for db with all possible filters\n      //line.query = (Object.keys(query).length !== 0) ? query : {}\n      line.query = {}\n\n      let filters = []\n      state.filterColumns.forEach(col => {\n        col.db_columns.forEach(dbcol => {\n          filters.push(dbcol)\n        })\n      })\n      filters.push(\"metric\")\n      filters.forEach(filter => line.query[filter] = undefined)\n      line.identifier = uniqid.time() //unique identifier to update query or delete line\n      Vue.set(state.lines, state.lines.length, line) //push new line at end of lines array\n    },\n\n    //remove line from sidebar\n    removeLine(state, identifier) {\n      if(state.lines.length > 1)\n      state.lines.splice(state.lines.findIndex(x=>x.identifier == identifier),1)\n    },\n\n    //write query to lines\n    writeQuery(state, payload) {\n      //console.log(\"writeQuery() called\", payload)\n      Vue.set(state.lines[payload.index].query, payload.filter, payload.key)\n    },\n\n    //write A PI return to lines (gotten from callAPI())\n    writeValues(state, payload) {\n      //console.log(\"writeData called\", payload)\n      Vue.set(state.lines[payload.index], \"values\", payload.values)\n    },\n\n    //add filter via typeahead\n    addFilter(state, payload) {\n      Vue.set(state.addedFilters,state.addedFilters.length,payload)\n    }\n  },\n\n\n\n  actions: {\n    //update queries and get data for them\n    getData({dispatch, commit, state}, payload) {\n      //console.log(\"getData() called\", payload)\n      if(payload.identifier) { //if payload just applies to a single line\n        commit('writeQuery',{\n          index: state.lines.findIndex(x=>x.identifier == payload.identifier),\n          filter: payload.query.filter,\n          key: payload.query.key\n        })\n        dispatch('callAPI',payload.identifier)\n      } else { //if it affects all lines (e.g. when a metric is changed)\n        state.lines.forEach((line, i) => {\n          commit('writeQuery',{\n            index: i,\n            filter: 'metric',\n            key: payload.query.key\n          })\n          dispatch('callAPI',line.identifier)\n        })\n      }\n    },\n\n    //get data from API\n    callAPI( {commit,state}, identifier) {\n      let query = state.lines.find(x=>x.identifier == identifier).query\n      if(!query.metric) query.metric = \"rating_overall\" //avoid crash because initial metric has not been defined\n      query.type = 'result' //set query end (quasi endpoint) for api.php\n\n      axios.post( \"http://social-dynamics.net/nokiatwin/api.php\",query,\n      //axios.post( \"http://localhost:8080/nokiatwin/api.php?\",query, //for development, this is overwritten in vue.config.js\n        {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n      })\n      .then(response => {\n        commit('writeValues',{\n          index: state.lines.findIndex(x=>x.identifier == identifier),\n          values: response.data\n        })\n      })\n      .catch(error => {\n        console.log(error)\n      });\n    }\n  }\n})\n"]}]}