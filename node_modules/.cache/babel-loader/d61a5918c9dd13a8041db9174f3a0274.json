{"remainingRequest":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/babel-loader/lib/index.js!/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tk/GitHub/nokia-twin/twin-dashboard/src/components/chart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/src/components/chart.vue","mtime":1593245108679},{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2NoYXJ0JywKICBwcm9wczogewogICAgZGF0YTogQXJyYXkKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb2xvcnM6IFsiIzUwRTNDMiIsICIjQkQxMEUwIl0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgc2NhbGVzOiB7CiAgICAgIGNhY2hlOiB0cnVlLAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICB2YXIgcGFyc2VUaW1lID0gZDMudGltZVBhcnNlKCIlWS0lbSIpOwogICAgICAgIHZhciBzdHlsZSA9IHRoaXMuc3R5bGU7CiAgICAgICAgdmFyIHggPSBkMy5zY2FsZVRpbWUoKS5yYW5nZShbc3R5bGUubWFyZ2luLmxlZnQsIHN0eWxlLndpZHRoIC0gc3R5bGUubWFyZ2luLmxlZnQgLSBzdHlsZS5tYXJnaW4ucmlnaHRdKTsKICAgICAgICB2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkucmFuZ2UoW3N0eWxlLmhlaWdodCAtIHN0eWxlLm1hcmdpbi50b3AgLSBzdHlsZS5tYXJnaW4uYm90dG9tLCBzdHlsZS5tYXJnaW4uYm90dG9tXSk7CiAgICAgICAgZDMuYXhpc0xlZnQoKS5zY2FsZSh4KTsKICAgICAgICBkMy5heGlzQm90dG9tKCkuc2NhbGUoeSk7CiAgICAgICAgeC5kb21haW4oW3BhcnNlVGltZSgiMjAwOC0wMSIpLCBwYXJzZVRpbWUoIjIwMjAtMTIiKV0pOyAvL1RPRE86IGFzc2lnbiBkeW5hbWljYWxseQoKICAgICAgICB5LmRvbWFpbihbMCwgNV0pOwogICAgICAgIC8qaWYodGhpcy5kYXRhKSB7CiAgICAgICAgICBsZXQgbWluTWF4ID0ge2RhdGVzOiBbXSwgcmF0aW5nczogW119CiAgICAgICAgICB0aGlzLmRhdGEuZm9yRWFjaChyZXN1bHQ9PiB7CiAgICAgICAgICAgIGQzLmV4dGVudChyZXN1bHQuZGF0YSx4PT5wYXJzZVRpbWUoeC5kKSkuZm9yRWFjaChkYXRlID0+IG1pbk1heC5kYXRlcy5wdXNoKGRhdGUpKQogICAgICAgICAgICBkMy5leHRlbnQocmVzdWx0LmRhdGEseD0+K3gucikuZm9yRWFjaChyYXRpbmcgPT4gbWluTWF4LnJhdGluZ3MucHVzaChyYXRpbmcpKQogICAgICAgICAgfSkKICAgICAgICAgICB4LmRvbWFpbihkMy5leHRlbnQobWluTWF4LmRhdGVzKSk7IC8vVE9ETzogYXNzaWduIGR5bmFtaWNhbGx5CiAgICAgICAgICAgeS5kb21haW4oZDMuZXh0ZW50KG1pbk1heC5yYXRpbmdzKSk7CiAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgeC5kb21haW4oW3BhcnNlVGltZSgiMjAwNy0wMSIpLHBhcnNlVGltZSgiMjAyMC0xMiIpXSk7IC8vVE9ETzogYXNzaWduIGR5bmFtaWNhbGx5CiAgICAgICAgICAgeS5kb21haW4oWzAsNV0pOwogICAgICAgICB9Ki8KCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHg6IHgsCiAgICAgICAgICB5OiB5CiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGxpbmVzOiB7CiAgICAgIGNhY2hlOiBmYWxzZSwKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgICAgaWYgKHRoaXMuZGF0YSkgewogICAgICAgICAgdmFyIHBhcnNlVGltZSA9IGQzLnRpbWVQYXJzZSgiJVktJW0iKTsKICAgICAgICAgIHZhciBwYXRoID0gZDMubGluZSgpLmN1cnZlKGQzLmN1cnZlQmFzaXMpLngoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNjYWxlcy54KHBhcnNlVGltZShkLmQpKTsKICAgICAgICAgIH0pLnkoZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLnNjYWxlcy55KGQucik7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiB0aGlzLmRhdGEubWFwKGZ1bmN0aW9uICh2YWx1ZXMpIHsKICAgICAgICAgICAgcmV0dXJuIHBhdGgodmFsdWVzLmRhdGEpOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHN0eWxlOiBmdW5jdGlvbiBzdHlsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB3aWR0aDogMTAwMCwKICAgICAgICAvL1RPRE86IHNldCB0byB3aW5kb3cgd2lkdGgKICAgICAgICBoZWlnaHQ6IDMwMCwKICAgICAgICBtYXJnaW46IHsKICAgICAgICAgIHRvcDogMjUsCiAgICAgICAgICByaWdodDogMjUsCiAgICAgICAgICBib3R0b206IDI1LAogICAgICAgICAgbGVmdDogMjUKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBnID0gZDMuc2VsZWN0KCJnLmxpbmVzIik7CiAgICB2YXIgc3R5bGUgPSB0aGlzLnN0eWxlOyAvL2cuYXR0cigidHJhbnNmb3JtIiwidHJhbnNsYXRlKCIrc3R5bGUubWFyZ2luLmxlZnQrIiwiK3N0eWxlLm1hcmdpbi50b3ArIikiKQogICAgLy9nLmF0dHIoInRyYW5zZm9ybSIsInRyYW5zbGF0ZSgyNSwyNSkiKQoKICAgIGcuYXBwZW5kKCJnIikuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgc3R5bGUubWFyZ2luLmxlZnQgKyAiLDApIikuY2FsbChkMy5heGlzTGVmdCh0aGlzLnNjYWxlcy55KS50aWNrcyg1KSk7CiAgICBnLmFwcGVuZCgiZyIpLmF0dHIoInRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMCwiICsgKHN0eWxlLmhlaWdodCAtIHN0eWxlLm1hcmdpbi50b3AgLSBzdHlsZS5tYXJnaW4uYm90dG9tKSArICIpIikuY2FsbChkMy5heGlzQm90dG9tKHRoaXMuc2NhbGVzLngpLnRpY2tzKDUpKTsKICAgIC8qICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5kYXRhKQogICAgICB9KSovCiAgfSwKICBtZXRob2RzOiB7fQp9Ow=="},{"version":3,"sources":["chart.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <svg :width=\"style.width\" :height=\"style.height\" class=\"lines\">\n      <g class=\"lines\">\n        <path v-for=\"(line,index) in lines\" v-bind:key=\"index\" :d=\"line\" fill=\"none\" :stroke=\"colors[index]\"/>\n      </g>\n    </svg>\n</template>\n\n<script>\nimport * as d3 from 'd3'\n\nexport default {\n  name: 'chart',\n\n  props: {\n    data: Array\n  },\n\n  data() {\n    return {\n      colors: [\"#50E3C2\",\"#BD10E0\"]\n    }\n  },\n\n  computed: {\n    scales: {\n      cache: true,\n      get() {\n        let parseTime = d3.timeParse(\"%Y-%m\");\n        let style = this.style\n\n        const x = d3.scaleTime().range([\n          style.margin.left,\n          style.width - style.margin.left - style.margin.right\n        ]);\n        const y = d3.scaleLinear().range([\n          style.height - style.margin.top - style.margin.bottom,\n          style.margin.bottom\n        ]);\n\n        d3.axisLeft().scale(x);\n        d3.axisBottom().scale(y);\n\n        x.domain([parseTime(\"2008-01\"),parseTime(\"2020-12\")]); //TODO: assign dynamically\n        y.domain([0,5]);\n\n       /*if(this.data) {\n         let minMax = {dates: [], ratings: []}\n         this.data.forEach(result=> {\n           d3.extent(result.data,x=>parseTime(x.d)).forEach(date => minMax.dates.push(date))\n           d3.extent(result.data,x=>+x.r).forEach(rating => minMax.ratings.push(rating))\n         })\n          x.domain(d3.extent(minMax.dates)); //TODO: assign dynamically\n          y.domain(d3.extent(minMax.ratings));\n        } else {\n          x.domain([parseTime(\"2007-01\"),parseTime(\"2020-12\")]); //TODO: assign dynamically\n          y.domain([0,5]);\n        }*/\n        return { x, y };\n      }\n    },\n\n    lines: {\n      cache: false,\n      get() {\n        if(this.data) {\n          let parseTime = d3.timeParse(\"%Y-%m\");\n          const path = d3.line()\n          .curve(d3.curveBasis)\n           .x(d => this.scales.x(parseTime(d.d)))\n           .y(d => this.scales.y(d.r));\n\n           return this.data.map(values => path(values.data))\n        } else {\n          return null\n        }\n\n      }\n    },\n\n    style: function() {\n      return {\n        width: 1000, //TODO: set to window width\n        height: 300,\n        margin: {\n          top: 25,\n          right: 25,\n          bottom: 25,\n          left: 25\n        }\n      }\n    }\n  },\n\n  created () {\n\n  },\n\n  mounted () {\n    let g = d3.select(\"g.lines\")\n    let style = this.style\n    //g.attr(\"transform\",\"translate(\"+style.margin.left+\",\"+style.margin.top+\")\")\n    //g.attr(\"transform\",\"translate(25,25)\")\n    g.append(\"g\").attr(\"transform\", \"translate(\"+style.margin.left+\",0)\").call(d3.axisLeft(this.scales.y).ticks(5))\n    g.append(\"g\").attr(\"transform\", \"translate(0,\"+(style.height-style.margin.top-style.margin.bottom)+\")\").call(d3.axisBottom(this.scales.x).ticks(5))\n\n  /*  this.$nextTick(function () {\n      console.log(this.data)\n    })*/\n  },\n\n  methods: {\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nsvg {\n  background-color: white;\n}\npath {\n  transition: d 0.3s\n}\n</style>\n"],"sourceRoot":"src/components"}]}