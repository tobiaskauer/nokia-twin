{"remainingRequest":"/Users/tk/GitHub/twin-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tk/GitHub/twin-dashboard/src/components/sidebar.vue?vue&type=style&index=0&id=19f8877c&scoped=true&lang=css&","dependencies":[{"path":"/Users/tk/GitHub/twin-dashboard/src/components/sidebar.vue","mtime":1593244956852},{"path":"/Users/tk/GitHub/twin-dashboard/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/twin-dashboard/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/tk/GitHub/twin-dashboard/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/tk/GitHub/twin-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/twin-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKaDEgewogIHRleHQtYWxpZ246IGNlbnRlcjsKfQouc2lkZWJhciB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzM5MzkzQjsKICBjb2xvcjogd2hpdGU7CiAgbWluLXdpZHRoOiAzMDBweDsKICBwYWRkaW5nOiAwcHggIWltcG9ydGFudDsKfQo="},{"version":3,"sources":["sidebar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sidebar.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"col-sm-3 sidebar\">\n    <h1>Twin DB</h1>\n      <ul>\n        <selector v-bind:listItem=\"metric\" :columnCount=\"1\" :count=\"metric.elements.length\"/>\n        <selector v-bind:listItem=\"company\" :columnCount=\"columnCount\" :count=\"4\" />\n        <selector v-bind:listItem=\"location\" :columnCount=\"columnCount\" :count=\"5\" />\n        <selector v-bind:listItem=\"employee_title\" :columnCount=\"columnCount\" :count=\"5\" />\n    </ul>\n  </div>\n</template>\n\n<script>\nimport selector from './selector.vue'\nimport axios from 'axios'\n\nexport default {\n  data() {\n    return {\n      columnCount: 2  ,\n      metric: {\n        name: \"Metric\",\n        selected: ['rating_overall'],\n        elements: [ //static for now, fed by db or files later.\n          {key: \"rating_overall\", display: \"Overall Ratings\", selector: \"metric\"},\n          {key: \"rating_balance\", display: \"Work-Life Balance\", selector: \"metric\"},\n          {key: \"rating_culture\", display: \"Culture & Values\", selector: \"metric\"},\n          {key: \"rating_career\", display: \"Career Opportunities\", selector: \"metric\"},\n          {key: \"rating_comp\", display: \"Compensation & Benefits\", selector: \"metric\"},\n          {key: \"rating_mgmt\", display: \"Senior Leadership\", selector: \"metric\"}\n        ]\n      },\n      location: {\n        name: \"Location\",\n        selected: [\"US \", \"UK\"],\n        elements: [\n        /*  {key: \"UK\", selector: \"country\"},\n          {key: \"Hyderābād\", selector: \"location\"},\n          {key: \"India\", selector: \"country\"},\n          {key: \"Hangzhou, Zhejiang\", selector: \"location\"},\n          {key: \"London, England\", selector: \"location\"},\n          {key: \"Cupertino, CA\", selector: \"location\"},\n          {key: \"Bangalore\", selector: \"location\"},*/\n        ]\n      },\n      employee_title: {\n        name: \"employee_title\",\n        selected: [],\n        //selected: ['  Crew Member ','  Specialist '],\n        elements: []\n      },\n      company: {\n        name: \"Company\",\n        selected: [],\n        elements: []\n      }\n    }\n  },\n\n  created() {\n    let lists = [\n      {db_column: \"company\", target: \"company\"},\n      {db_column: \"employee_title\", target: \"employee_title\"},\n      {db_column: \"location\", target: \"location\"},\n      {db_column: \"country\", target: \"location\"},\n    ]\n\n    lists.forEach(list => {\n      this.listElements(list) //get lists to be displayed / suggested in sidebar\n    })\n\n  },\n\n  methods: {\n    listElements: function(selector) {\n      let query = {\n        type: 'selectors',\n        listSelector: selector.db_column\n      }\n      axios.post( \"http://localhost:8080/nokia/nokia-twin/comparison-api.php?\",query,\n        {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n      })\n      .then(response => {\n        /*let list = response.data.map(element => {\n          return {\n            key: element[selector.db_column],\n            selector: selector.db_column,\n            count: element.count\n          }\n        })*/\n\n        let startAppendAt = this[selector.target].elements.length\n        response.data.forEach((element,i) => {\n          let item = {\n            key: element[selector.db_column],\n            selector: selector.db_column,\n            count: element.count\n          }\n          let index = startAppendAt + i\n          this.$set(this[selector.target].elements, index, item)\n        })\n        this[selector.target].elements.sort((a,b) => b.count - a.count)\n      })\n      .catch(error => {\n        console.log(error)\n      });\n    }\n  },\n\n  components: {\n    selector,\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh1 {\n  text-align: center;\n}\n.sidebar {\n  background-color: #39393B;\n  color: white;\n  min-width: 300px;\n  padding: 0px !important;\n}\n</style>\n"]}]}