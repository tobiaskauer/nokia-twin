{"remainingRequest":"/Users/tk/GitHub/twin-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tk/GitHub/twin-dashboard/src/components/vis.vue?vue&type=style&index=0&id=91b57380&scoped=true&lang=css&","dependencies":[{"path":"/Users/tk/GitHub/twin-dashboard/src/components/vis.vue","mtime":1592485097455},{"path":"/Users/tk/GitHub/twin-dashboard/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/twin-dashboard/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/tk/GitHub/twin-dashboard/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/tk/GitHub/twin-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/twin-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubGluZXMgcGF0aCB7CiAgZmlsbDogbm9uZTsKICBzdHJva2U6IGJsYWNrCn0K"},{"version":3,"sources":["vis.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA","file":"vis.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"vis\" ref=\"vis\">\n    <svg :width=\"width\" :height=\"height\">\n    </svg>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\n//import * as d3 from 'd3'\nimport { bus } from '../main'\n\n\nexport default {\n  name: 'vis',\n\n  data() {\n    return {\n      width: 700,\n      height: 800,\n      results: [],\n      queries : [\n        {\n          metric: undefined,\n          location: undefined,\n          company: undefined,\n          //country: undefined,\n          //role: undefined,\n        }, {\n          metric: undefined,\n          location: undefined,\n          company: undefined,\n          //role: \"\",\n          //country: \"\",\n        }\n      ],\n    }\n  },\n  \n  mounted() {\n    bus.$on('initial', function(parameter) { //listen on EventBus for changed queries\n      console.log(parameter)\n      if(parameter.selector == \"metric\") {\n        this.queries.forEach(function(query) {\n          query.metric = parameter.key\n        })\n      } else {\n        this.queries[parameter.index][parameter.selector] = parameter.key\n      }\n   })\n\n\n  /*  this.queries.forEach(function(query,i){\n      console.log(query)\n      this.getData(query,i)\n    })*/\n },\n\n methods: {\n   getData: function(query,i) {\n       axios.post( \"http://localhost:8080/nokia/nokia-twin/comparison-api.php?\",query,\n         {headers: {'Content-Type': 'application/json;charset=UTF-8'}\n       })\n       .then(function(response) {\n         console.log(this.results)\n         this.results[i] = {query: query, data: response.data, path: \"\"}\n       });\n   }\n }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.lines path {\n  fill: none;\n  stroke: black\n}\n</style>\n"]}]}