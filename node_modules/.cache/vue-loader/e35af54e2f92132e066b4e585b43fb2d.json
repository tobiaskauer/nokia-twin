{"remainingRequest":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/tk/GitHub/nokia-twin/twin-dashboard/src/components/filterRow.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/src/components/filterRow.vue","mtime":1594334949641},{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/tk/GitHub/nokia-twin/twin-dashboard/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewoKICB9LAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29sbGFwc2VkOiBmYWxzZSwKICAgICAgcmVmcmVzaENvdW50OiAwLAogICAgfQogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBmaWx0ZXJDb2x1bW5zOiB7CiAgICAgIGNhY2hlOiB0cnVlLAogICAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5nZXR0ZXJzLmdldEZpbHRlckNvbHVtbnMgLy9nZXQgfjUreCBlbGVtZW50cyBmcm9tIHN0b3JlCiAgICAgIH0KICAgIH0sCgogICAgc2VsZWN0ZWQ6IHsKICAgICAgY2FjaGU6IGZhbHNlLAogICAgICBnZXQ6IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmZpbHRlckNvbHVtbnMgLy9hcnJheSBvZiBzZWxlY3RlZCBpdGVtcyB0byBkaXNwbGF5IGluIGNvbGxhcHNlZCB2aWV3CiAgICAgICAgICAuZmlsdGVyKGNvbCA9PiBjb2wuc2VsZWN0ZWQpCiAgICAgICAgICAubWFwKGNvbCA9PiBjb2wuc2VsZWN0ZWQpCiAgICAgIH0KICAgIH0KICB9LAoKICBtZXRob2RzOiB7CiAgICBzZWxlY3Q6IGZ1bmN0aW9uKGNvbCxpdGVtKSB7CgogICAgICBsZXQgY3VycmVudENvbCA9IHRoaXMuZmlsdGVyQ29sdW1ucy5maW5kKHg9PngubmFtZSA9PSBjb2wpCgogICAgICBpZihjdXJyZW50Q29sLnNlbGVjdGVkID09IGl0ZW0pIHsgLy9pZiBhbHJlYWR5IHNlbGVjdGVkCiAgICAgICAgdGhpcy4kc2V0KGN1cnJlbnRDb2wsICdzZWxlY3RlZCcsICIiKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHNldChjdXJyZW50Q29sLCAnc2VsZWN0ZWQnLCBpdGVtKQoKICAgICAgICB0aGlzLiRlbWl0KCdjbGlja2VkJywge2xpbmU6IHRoaXMubGluZS5pZGVudGlmaWVyLCBjb2w6IGNvbCwgcXVlcnk6IGl0ZW19KQogICAgICAgIC8vdGhpcy4kc3RvcmUuY29tbWl0KCd1cGRhdGVRdWVyeScsIHtsaW5lOiB0aGlzLmxpbmUuaWRlbnRpZmllciwgcXVlcnk6IGl0ZW19KQogICAgICB9CiAgICAgIC8vY29uc29sZS5sb2coY29sLGl0ZW0sY3VycmVudENvbCkKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKQogICAgfSwKCgoKICAgIGNvbGxhcHNlOiBmdW5jdGlvbihjb2xsYXBzZSkgewogICAgICB0aGlzLmNvbGxhcHNlZCA9IGNvbGxhcHNlCiAgICB9CiAgfSwKCiAgbW91bnRlZCgpIHsKICB9LAoKICBwcm9wczogewogICAgLy9maWx0ZXJDb2x1bW5zOiBBcnJheSwKICAgIGxpbmU6IE9iamVjdAogIH0KfQo="},{"version":3,"sources":["filterRow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"filterRow.vue","sourceRoot":"src/components","sourcesContent":["<template>\n<li class=\"filterRow\" :style=\"'border-color: ' +this.line.color\" :key=\"refreshCount\">\n  <ul class=\"controls\">\n    <li :class=\"{rotate: !collapsed}\"><!-- toggle collapse -->\n      <a v-on:click=\"collapse(!collapsed)\"><svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-arrow-down-circle-fill\" :fill=\"this.line.color\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 5a.5.5 0 0 0-1 0v4.793L5.354 7.646a.5.5 0 1 0-.708.708l3 3a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 9.793V5z\"/>\n      </svg></a>\n    </li>\n    <li><!-- delete -->\n      <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-x-circle-fill\" :fill=\"this.line.color\" xmlns=\"http://www.w3.org/2000/svg\">\n        <path fill-rule=\"evenodd\" d=\"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.146-3.146a.5.5 0 0 0-.708-.708L8 7.293 4.854 4.146a.5.5 0 1 0-.708.708L7.293 8l-3.147 3.146a.5.5 0 0 0 .708.708L8 8.707l3.146 3.147a.5.5 0 0 0 .708-.708L8.707 8l3.147-3.146z\"/>\n      </svg>\n    </li>\n  </ul>\n\n  <div class=\"collapsed\" :class=\"{hidden: !collapsed}\">\n    <ul class=\"items\">\n      <li v-for=\"(item, index) in selected\" :key=\"'selected-'+index\">\n        <span :style=\"{background: line.color}\">{{item}}</span>\n      </li>\n    </ul>\n  </div>\n\n\n\n  <div class=\"expanded\" :class=\"{hidden: collapsed}\" v-for=\"(col, index) in filterColumns\" :key=\"'list-'+index\">\n    <strong>{{col.name}}</strong>\n      <ul class=\"items\">\n        <li v-for=\"element in col.elements\" :key=\"element.key\">\n          <span v-bind:style=\"[col.selected == element ? {'background': line.color} : {'background': 'none'}]\" v-on:click=\"select(col.name, element)\">{{element.key}}</span>\n        </li>\n      </ul>\n    </div>\n\n\n\n\n</li>\n</template>\n\n<script>\n\nexport default {\n  components: {\n\n  },\n\n  data() {\n    return {\n      collapsed: false,\n      refreshCount: 0,\n    }\n  },\n\n  computed: {\n    filterColumns: {\n      cache: true,\n      get: function() {\n        return this.$store.getters.getFilterColumns //get ~5+x elements from store\n      }\n    },\n\n    selected: {\n      cache: false,\n      get: function() {\n        return this.filterColumns //array of selected items to display in collapsed view\n          .filter(col => col.selected)\n          .map(col => col.selected)\n      }\n    }\n  },\n\n  methods: {\n    select: function(col,item) {\n\n      let currentCol = this.filterColumns.find(x=>x.name == col)\n\n      if(currentCol.selected == item) { //if already selected\n        this.$set(currentCol, 'selected', \"\")\n      } else {\n        this.$set(currentCol, 'selected', item)\n\n        this.$emit('clicked', {line: this.line.identifier, col: col, query: item})\n        //this.$store.commit('updateQuery', {line: this.line.identifier, query: item})\n      }\n      //console.log(col,item,currentCol)\n      this.$forceUpdate()\n    },\n\n\n\n    collapse: function(collapse) {\n      this.collapsed = collapse\n    }\n  },\n\n  mounted() {\n  },\n\n  props: {\n    //filterColumns: Array,\n    line: Object\n  }\n}\n</script>\n\n<style scoped>\nli.filterRow {\n  margin: 20px 30px;;\n  padding: 10px;\n  border-radius: 4px;\n  border-style: solid;\n  border-width: 1px;\n  border-left-width: 15px;\n  list-style: none;\n  position: relative;\n}\n\nul.items {\n  font-size: 12px;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n\nul.items span {\n  padding: 4px 4px;\n  border-radius: 4px;\n}\n\nul.items span:hover {\n  cursor: pointer;\n}\n\n.expanded {\n  margin: 0 30px 15px 0;\n  display: inline-block;\n}\n\n.collapsed {\n  width: 90%;\n}\n\n.collapsed li {\n  display: inline-block;\n  margin: 5px 5px 5px 0;\n}\n\nul.controls {\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  right: 10px;\n  top: 5px;\n}\n\n\nul.controls li {\n  list-style: none;\n  display: inline-block;\n  margin-left: 5px;\n  line-height: 0em;\n  background: white;\n  border-radius: 50%;\n\n}\nul.controls li span:hover {\ncursor: pointer;\n}\n\nul.controls li.rotate {\n  transform: rotate(180deg);\n}\n\n.hidden {\n  display: none !important;\n}\n\n\n\n</style>\n"]}]}